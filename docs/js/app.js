/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../ast/src/arithmetic/concat_string/ast.js":
/*!**************************************************!*\
  !*** ../ast/src/arithmetic/concat_string/ast.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PrimitiveAST; });\n/* harmony import */ var _ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ast */ \"../ast/src/ast.js\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ \"../ast/src/arithmetic/concat_string/parser.js\");\n/* harmony import */ var _evaluator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluator */ \"../ast/src/arithmetic/evaluator.js\");\n\n\n\n\nclass PrimitiveAST extends _ast__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super(_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _evaluator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n        return this\n    }\n\n    evaluate(...arg) {\n        return super.evaluate(...arg)\n\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/concat_string/ast.js?");

/***/ }),

/***/ "../ast/src/arithmetic/concat_string/interpreter.js":
/*!**********************************************************!*\
  !*** ../ast/src/arithmetic/concat_string/interpreter.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tokens */ \"../ast/src/arithmetic/concat_string/tokens.js\");\n/* harmony import */ var _generate_interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../generate_interpreter */ \"../ast/src/arithmetic/generate_interpreter.js\");\n\r\n\r\n\r\nconst interpreter = Object(_generate_interpreter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__)\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (interpreter);\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/concat_string/interpreter.js?");

/***/ }),

/***/ "../ast/src/arithmetic/concat_string/parser.js":
/*!*****************************************************!*\
  !*** ../ast/src/arithmetic/concat_string/parser.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tokenizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tokenizer */ \"../ast/src/arithmetic/concat_string/tokenizer.js\");\n/* harmony import */ var _generate_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../generate_parser */ \"../ast/src/arithmetic/generate_parser.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_generate_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_tokenizer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/concat_string/parser.js?");

/***/ }),

/***/ "../ast/src/arithmetic/concat_string/syntax_rule.js":
/*!**********************************************************!*\
  !*** ../ast/src/arithmetic/concat_string/syntax_rule.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tokens */ \"../ast/src/arithmetic/concat_string/tokens.js\");\n/* harmony import */ var _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../token/brace_tokens */ \"../ast/src/token/brace_tokens.js\");\n/* harmony import */ var _token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../token/variable_parenthis */ \"../ast/src/token/variable_parenthis.js\");\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../token/operand_token */ \"../ast/src/token/operand_token.js\");\n/* harmony import */ var _token_token_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../token/token_factory */ \"../ast/src/token/token_factory.js\");\n\n\n\n\n\n\nconst syntax_rule = {\n    \"+\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__[\"Adder\"]),\n    \"(\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"]),\n    \"{\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__[\"VariableStartParenthis\"]),\n    \")\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceEnd\"]),\n    \"}\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__[\"VariableEndParenthis\"]),\n    \"default\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_operand_token__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (syntax_rule);\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/concat_string/syntax_rule.js?");

/***/ }),

/***/ "../ast/src/arithmetic/concat_string/tokenizer.js":
/*!********************************************************!*\
  !*** ../ast/src/arithmetic/concat_string/tokenizer.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _syntax_rule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syntax_rule */ \"../ast/src/arithmetic/concat_string/syntax_rule.js\");\n/* harmony import */ var _interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interpreter */ \"../ast/src/arithmetic/concat_string/interpreter.js\");\n/* harmony import */ var _generate_tokenizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../generate_tokenizer */ \"../ast/src/arithmetic/generate_tokenizer.js\");\n/* harmony import */ var _syntax_checker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../syntax_checker */ \"../ast/src/arithmetic/syntax_checker.js\");\n\r\n\r\n\r\n\r\n\r\nconst tokenizer = Object(_generate_tokenizer__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_syntax_rule__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _interpreter__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _syntax_checker__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tokenizer);\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/concat_string/tokenizer.js?");

/***/ }),

/***/ "../ast/src/arithmetic/concat_string/tokens.js":
/*!*****************************************************!*\
  !*** ../ast/src/arithmetic/concat_string/tokens.js ***!
  \*****************************************************/
/*! exports provided: Adder, Literal, Variable, IgnoreToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Adder\", function() { return Adder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Literal\", function() { return Literal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Variable\", function() { return Variable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IgnoreToken\", function() { return IgnoreToken; });\n/* harmony import */ var _token_operator_token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../token/operator_token */ \"../ast/src/token/operator_token.js\");\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../token/operand_token */ \"../ast/src/token/operand_token.js\");\n/* harmony import */ var _variable_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../variable_table */ \"../ast/src/variable_table.js\");\n/* harmony import */ var _i_tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../i_tokens */ \"../ast/src/arithmetic/i_tokens.js\");\n\n\n\n\n\nconst add = (mx, my) => mx + my\n\nclass Adder extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super(add, 1, \"+\")\n    }\n}\n\n\nclass Literal extends _token_operand_token__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(value) {\n        super(value)\n    }\n\n    /**\n     * @return {() => string}\n     */\n    expr() {\n        return () => this.value\n    }\n\n    static match(str) {\n        return true\n    }\n\n}\n\n\n/**\n *\n * @param {VariableTable} table\n * @return {string=>string}\n */\nfunction safeGet(table) {\n    return function (key) {\n        const value = table.get(key)\n        if (value === undefined) throw new Error(`Undefined key ${key}.`)\n        return value\n    }\n}\n\nclass Variable extends _i_tokens__WEBPACK_IMPORTED_MODULE_3__[\"IVariable\"] {\n    constructor(value) {\n        super(value)\n    }\n\n    /**\n     *\n     * @return {() => number}\n     */\n    expr(table) {\n        return () => safeGet(table)(this.value)\n    }\n\n}\n\nclass IgnoreToken {\n    static match(token) {\n        return false\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/concat_string/tokens.js?");

/***/ }),

/***/ "../ast/src/arithmetic/evaluator.js":
/*!******************************************!*\
  !*** ../ast/src/arithmetic/evaluator.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return evaluator; });\n/* harmony import */ var _binary_tree_operator_node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../binary_tree/operator_node */ \"../ast/src/binary_tree/operator_node.js\");\n/* harmony import */ var _binary_tree_literal_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../binary_tree/literal_node */ \"../ast/src/binary_tree/literal_node.js\");\n/* harmony import */ var _binary_tree_variable_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../binary_tree/variable_node */ \"../ast/src/binary_tree/variable_node.js\");\n\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {OperatorNode | LiteralNode | VariableNode} node\r\n */\r\nfunction evaluator(node) {\r\n    if (node instanceof _binary_tree_operator_node__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n        return node.value(evaluator(node.left), evaluator(node.right))\r\n    } else if (node instanceof _binary_tree_literal_node__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n        return node.value()\r\n    } else if (node instanceof _binary_tree_variable_node__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\r\n        return node.value()\r\n    } else {\r\n        throw new TypeError(`Unavailable type of Tree node.`)\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/evaluator.js?");

/***/ }),

/***/ "../ast/src/arithmetic/generate_interpreter.js":
/*!*****************************************************!*\
  !*** ../ast/src/arithmetic/generate_interpreter.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return generateInterpreter; });\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../token/operand_token */ \"../ast/src/token/operand_token.js\");\n/* harmony import */ var _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../token/brace_tokens */ \"../ast/src/token/brace_tokens.js\");\n/* harmony import */ var _token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../token/variable_parenthis */ \"../ast/src/token/variable_parenthis.js\");\n/* harmony import */ var _i_tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./i_tokens */ \"../ast/src/arithmetic/i_tokens.js\");\n/* harmony import */ var _len__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../len */ \"../ast/src/len.js\");\n/* harmony import */ var _array_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../array_util */ \"../ast/src/array_util.js\");\n/* harmony import */ var _token_operator_token__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../token/operator_token */ \"../ast/src/token/operator_token.js\");\n\n\n\n\n\n\n\n\n\nfunction concatOperands(prev, next) {\n    return new _token_operand_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"](prev.value + next.value)\n}\n\n\n/**\n * 1. 単項演算子の - を -1 * と解釈する.\n *      * 式の最初に - が来る場合\n *      * ( の直後に - が来る場合\n *\n * 2. 連続するOperandを一つのOperandと解釈する.\n *\n * @param {Object<string, Token>} tokenRule\n * @return {(acc:Array<Token>, e: Token) => Array<Token>}\n */\nfunction generateInterpreter(tokenRule) {\n\n    return function interpreter(acc, e) {\n\n        if (tokenRule.IgnoreToken.match(e)) return acc\n        if (e instanceof _token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__[\"VariableStartParenthis\"]) return { mode: \"variable\", tokens: [...acc.tokens] }\n        if (e instanceof _token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__[\"VariableEndParenthis\"]) return { mode: \"\", tokens: [...acc.tokens] }\n\n        if (Object(_len__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(acc.tokens) === 0) {\n            if (acc.mode === \"variable\") {\n                return { mode: acc.mode, tokens: [new tokenRule.Variable(e.value)] }\n            } else {\n                return (e instanceof _i_tokens__WEBPACK_IMPORTED_MODULE_3__[\"ISubtractor\"])\n                    ? { mode: acc.mode, tokens: [new tokenRule.Literal(-1), new tokenRule.Multiplier()] }\n                    : { mode: acc.mode, tokens: [e] }\n            }\n        }\n\n        const last = Object(_array_util__WEBPACK_IMPORTED_MODULE_5__[\"lastOf\"])(acc.tokens)\n\n        if (acc.mode === \"variable\") {\n            if (last instanceof _token_operand_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n                const proc = Object(_array_util__WEBPACK_IMPORTED_MODULE_5__[\"withoutLastOf\"])(acc.tokens)\n                return { mode: acc.mode, tokens: [...proc, new tokenRule.Variable(last.value + e.value)] }\n            } else {\n                return { mode: acc.mode, tokens: [...acc.tokens, new tokenRule.Variable(e.value)] }\n            }\n        }\n\n\n        if (last instanceof _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"] && e instanceof _i_tokens__WEBPACK_IMPORTED_MODULE_3__[\"ISubtractor\"]) {\n            return { mode: acc.mode, tokens: [...acc.tokens, new tokenRule.Literal(-1), new tokenRule.Multiplier()] }\n        }\n\n        if (last instanceof _token_operand_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] && e instanceof _token_operand_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n            const proc = Object(_array_util__WEBPACK_IMPORTED_MODULE_5__[\"withoutLastOf\"])(acc.tokens)\n            const operand = last.value + e.value\n            const nextOperand = tokenRule.Literal.match(operand)\n                ? new tokenRule.Literal(operand)\n                : new tokenRule.Variable(operand)\n            return { mode: acc.mode, tokens: [...proc, nextOperand] }\n        } else if (e instanceof _token_operand_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n            const nextOperand = tokenRule.Literal.match(e.value)\n                ? new tokenRule.Literal(e.value)\n                : new tokenRule.Variable(e.value)\n            return { mode: acc.mode, tokens: [...acc.tokens, nextOperand] }\n        } else {\n            return { mode: acc.mode, tokens: [...acc.tokens, e] }\n        }\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/generate_interpreter.js?");

/***/ }),

/***/ "../ast/src/arithmetic/generate_parser.js":
/*!************************************************!*\
  !*** ../ast/src/arithmetic/generate_parser.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return generateParser; });\n/* harmony import */ var _i_tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./i_tokens */ \"../ast/src/arithmetic/i_tokens.js\");\n/* harmony import */ var _token_operator_token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../token/operator_token */ \"../ast/src/token/operator_token.js\");\n/* harmony import */ var _binary_tree_operator_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../binary_tree/operator_node */ \"../ast/src/binary_tree/operator_node.js\");\n/* harmony import */ var _binary_tree_variable_node__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../binary_tree/variable_node */ \"../ast/src/binary_tree/variable_node.js\");\n/* harmony import */ var _binary_tree_literal_node__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../binary_tree/literal_node */ \"../ast/src/binary_tree/literal_node.js\");\n/* harmony import */ var _rearrange_tokens_to_RPN__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./rearrange_tokens_to_RPN */ \"../ast/src/arithmetic/rearrange_tokens_to_RPN.js\");\n/* harmony import */ var _len__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../len */ \"../ast/src/len.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction generateParser(tokenizer) {\r\n    return (table) => function (expression) {\r\n\r\n        const tokenArray = tokenizer(expression)\r\n        const tokens = [...Object(_rearrange_tokens_to_RPN__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(tokenArray).reverse()]\r\n        const stack = []\r\n\r\n        while (Object(_len__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(tokens) > 0) {\r\n            let token = tokens.pop()\r\n            if (token instanceof _token_operator_token__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n                let rightNode = stack.pop()\r\n                let leftNode = stack.pop()\r\n                stack.push(new _binary_tree_operator_node__WEBPACK_IMPORTED_MODULE_2__[\"default\"](token.expr(), leftNode, rightNode))\r\n\r\n            } else if (token instanceof _i_tokens__WEBPACK_IMPORTED_MODULE_0__[\"IVariable\"]) {\r\n                stack.push(new _binary_tree_variable_node__WEBPACK_IMPORTED_MODULE_3__[\"default\"](token.expr(table)))\r\n\r\n            } else {\r\n                stack.push(new _binary_tree_literal_node__WEBPACK_IMPORTED_MODULE_4__[\"default\"](token.expr()))\r\n            }\r\n        }\r\n\r\n        return stack.pop()\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/generate_parser.js?");

/***/ }),

/***/ "../ast/src/arithmetic/generate_tokenizer.js":
/*!***************************************************!*\
  !*** ../ast/src/arithmetic/generate_tokenizer.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return generateTokenizer; });\n/**\n *\n * @param {Object<string, (...any) => Token} syntax\n * @return {(acc:Array<Token>, e: Token) => Array<Token>}\n */\nfunction generateToken(syntax) {\n    return (acc, token) => {\n        if (!syntax[token]) return [...acc, syntax.default(token)]\n        return [...acc, syntax[token](token)]\n    }\n}\n\n\n/**\n * @param {Object<string, (...any) => Token}\n * @param {(acc:Array<Token>, e: Token) => Array<Token>} interpreter\n * @param {Token => Token} postprocessor\n * @param {Array<Token> => Array<Token>} syntax_error_check\n * @return {string => Array<Token>}\n */\nfunction generateTokenizer(syntax_rule, interpriter, syntax_error_check = e => e) {\n    return function tokenize(expression) {\n        return syntax_error_check(\n            expression.split(\"\")\n                .reduce(generateToken(syntax_rule), [])\n                .reduce(interpriter, { mode: \"\", tokens: [] })[\"tokens\"]\n        )\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/generate_tokenizer.js?");

/***/ }),

/***/ "../ast/src/arithmetic/i_tokens.js":
/*!*****************************************!*\
  !*** ../ast/src/arithmetic/i_tokens.js ***!
  \*****************************************/
/*! exports provided: IAdder, ISubtractor, IMultiplier, IDivider, IVariable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IAdder\", function() { return IAdder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ISubtractor\", function() { return ISubtractor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IMultiplier\", function() { return IMultiplier; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IDivider\", function() { return IDivider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IVariable\", function() { return IVariable; });\n/* harmony import */ var _token_operator_token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../token/operator_token */ \"../ast/src/token/operator_token.js\");\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../token/operand_token */ \"../ast/src/token/operand_token.js\");\n\r\n\r\n\r\n\r\nclass IAdder extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n\r\n}\r\n\r\nclass ISubtractor extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n\r\n}\r\n\r\nclass IMultiplier extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n\r\n}\r\n\r\nclass IDivider extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n\r\n}\r\n\r\nclass IVariable extends _token_operand_token__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/i_tokens.js?");

/***/ }),

/***/ "../ast/src/arithmetic/primitive/ast.js":
/*!**********************************************!*\
  !*** ../ast/src/arithmetic/primitive/ast.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PrimitiveAST; });\n/* harmony import */ var _ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ast */ \"../ast/src/ast.js\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser */ \"../ast/src/arithmetic/primitive/parser.js\");\n/* harmony import */ var _evaluator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluator */ \"../ast/src/arithmetic/evaluator.js\");\n\n\n\n\nclass PrimitiveAST extends _ast__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super(_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _evaluator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n        return this\n    }\n\n    evaluate(...arg) {\n        return super.evaluate(...arg)\n\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/primitive/ast.js?");

/***/ }),

/***/ "../ast/src/arithmetic/primitive/interpreter.js":
/*!******************************************************!*\
  !*** ../ast/src/arithmetic/primitive/interpreter.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tokens */ \"../ast/src/arithmetic/primitive/tokens.js\");\n/* harmony import */ var _generate_interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../generate_interpreter */ \"../ast/src/arithmetic/generate_interpreter.js\");\n\r\n\r\n\r\nconst interpreter = Object(_generate_interpreter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__)\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (interpreter);\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/primitive/interpreter.js?");

/***/ }),

/***/ "../ast/src/arithmetic/primitive/parser.js":
/*!*************************************************!*\
  !*** ../ast/src/arithmetic/primitive/parser.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tokenizer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tokenizer */ \"../ast/src/arithmetic/primitive/tokenizer.js\");\n/* harmony import */ var _generate_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../generate_parser */ \"../ast/src/arithmetic/generate_parser.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_generate_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_tokenizer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/primitive/parser.js?");

/***/ }),

/***/ "../ast/src/arithmetic/primitive/syntax_rule.js":
/*!******************************************************!*\
  !*** ../ast/src/arithmetic/primitive/syntax_rule.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tokens */ \"../ast/src/arithmetic/primitive/tokens.js\");\n/* harmony import */ var _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../token/brace_tokens */ \"../ast/src/token/brace_tokens.js\");\n/* harmony import */ var _token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../token/variable_parenthis */ \"../ast/src/token/variable_parenthis.js\");\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../token/operand_token */ \"../ast/src/token/operand_token.js\");\n/* harmony import */ var _token_token_factory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../token/token_factory */ \"../ast/src/token/token_factory.js\");\n\n\n\n\n\n\nconst syntax_rule = {\n    \"+\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__[\"Adder\"]),\n    \"-\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__[\"Subtractor\"]),\n    \"*\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__[\"Multiplier\"]),\n    \"/\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_tokens__WEBPACK_IMPORTED_MODULE_0__[\"Divider\"]),\n    \"(\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"]),\n    \"{\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__[\"VariableStartParenthis\"]),\n    \")\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceEnd\"]),\n    \"}\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_variable_parenthis__WEBPACK_IMPORTED_MODULE_2__[\"VariableEndParenthis\"]),\n    \"default\": Object(_token_token_factory__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_token_operand_token__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (syntax_rule);\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/primitive/syntax_rule.js?");

/***/ }),

/***/ "../ast/src/arithmetic/primitive/tokenizer.js":
/*!****************************************************!*\
  !*** ../ast/src/arithmetic/primitive/tokenizer.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _syntax_rule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syntax_rule */ \"../ast/src/arithmetic/primitive/syntax_rule.js\");\n/* harmony import */ var _interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interpreter */ \"../ast/src/arithmetic/primitive/interpreter.js\");\n/* harmony import */ var _generate_tokenizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../generate_tokenizer */ \"../ast/src/arithmetic/generate_tokenizer.js\");\n/* harmony import */ var _syntax_checker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../syntax_checker */ \"../ast/src/arithmetic/syntax_checker.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst tokenizer = Object(_generate_tokenizer__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_syntax_rule__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _interpreter__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _syntax_checker__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (tokenizer);\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/primitive/tokenizer.js?");

/***/ }),

/***/ "../ast/src/arithmetic/primitive/tokens.js":
/*!*************************************************!*\
  !*** ../ast/src/arithmetic/primitive/tokens.js ***!
  \*************************************************/
/*! exports provided: Adder, Subtractor, Multiplier, Divider, Literal, Variable, IgnoreToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Adder\", function() { return Adder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Subtractor\", function() { return Subtractor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Multiplier\", function() { return Multiplier; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Divider\", function() { return Divider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Literal\", function() { return Literal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Variable\", function() { return Variable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IgnoreToken\", function() { return IgnoreToken; });\n/* harmony import */ var _token_operator_token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../token/operator_token */ \"../ast/src/token/operator_token.js\");\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../token/operand_token */ \"../ast/src/token/operand_token.js\");\n/* harmony import */ var _variable_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../variable_table */ \"../ast/src/variable_table.js\");\n/* harmony import */ var _i_tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../i_tokens */ \"../ast/src/arithmetic/i_tokens.js\");\n\n\n\n\n\nconst add = (mx, my) => mx + my\nconst subtract = (mx, my) => mx - my\nconst multiple = (mx, my) => mx * my\nconst divide = (mx, my) => mx / my\nclass Adder extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super(add, 1, \"+\")\n    }\n}\n\nclass Subtractor extends _i_tokens__WEBPACK_IMPORTED_MODULE_3__[\"ISubtractor\"] {\n    constructor() {\n        super(subtract, 1, \"-\")\n    }\n}\n\nclass Multiplier extends _i_tokens__WEBPACK_IMPORTED_MODULE_3__[\"IMultiplier\"] {\n    constructor() {\n        super(multiple, 2, \"*\")\n    }\n}\n\nclass Divider extends _token_operator_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super(divide, 2, \"/\")\n    }\n}\n\n\nclass Literal extends _token_operand_token__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(value) {\n        super(value)\n    }\n\n    /**\n     * @return {() => number}\n     */\n    expr() {\n        return () => parseFloat(this.value)\n    }\n\n    static match(expression) {\n        return expression.match(/^-?[\\d]+\\.?[\\d]{0,}$/)\n    }\n\n}\n\n\n/**\n *\n * @param {VariableTable} table\n * @param {string=>Maybe}\n */\nfunction safeGet(table) {\n    return function (key) {\n        const value = table.get(key)\n        if (value === undefined) throw new Error(`Undefined key ${key}.`)\n        if (typeof value === \"string\") {\n            if (isNaN(value)) throw new TypeError(`Variable ${key} is not number.`)\n            try {\n                return parseFloat(value)\n            } catch (e) {\n                throw new TypeError(`Variable ${key} is not number.`)\n            }\n        }\n        return value\n    }\n}\n\nclass Variable extends _i_tokens__WEBPACK_IMPORTED_MODULE_3__[\"IVariable\"] {\n    constructor(value) {\n        super(value)\n    }\n\n    /**\n     *\n     * @return {() => number}\n     */\n    expr(table) {\n        return () => safeGet(table)(this.value)\n    }\n\n}\n\nclass IgnoreToken {\n\n    static match(token) {\n        return token.value.match(/\\s+/)\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/primitive/tokens.js?");

/***/ }),

/***/ "../ast/src/arithmetic/rearrange_tokens_to_RPN.js":
/*!********************************************************!*\
  !*** ../ast/src/arithmetic/rearrange_tokens_to_RPN.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return rearrangeTokens; });\n/* harmony import */ var _token_operand_token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../token/operand_token */ \"../ast/src/token/operand_token.js\");\n/* harmony import */ var _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../token/brace_tokens */ \"../ast/src/token/brace_tokens.js\");\n/* harmony import */ var _len__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../len */ \"../ast/src/len.js\");\n/* harmony import */ var _array_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../array_util */ \"../ast/src/array_util.js\");\n\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param {Array<Token>} _tokens\r\n * @param {bool?} verbose\r\n * @return {Array<Token>}\r\n */\r\nfunction rearrangeTokens(_tokens, verbose = false) {\r\n    const stack = []\r\n    const buffer = []\r\n    const tokens = [..._tokens]\r\n\r\n    while (Object(_len__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(tokens) > 0) {\r\n        let token = tokens.shift()\r\n        if (verbose) {\r\n            console.log(\"token\", token)\r\n            console.log(\"stack\", stack.map(e => e.value))\r\n            console.log(\"buffer\", buffer.map(e => e.value))\r\n        }\r\n\r\n        if (token instanceof _token_operand_token__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n            buffer.push(token)\r\n\r\n        } else if (token instanceof _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceEnd\"]) {\r\n            while (!(Object(_array_util__WEBPACK_IMPORTED_MODULE_3__[\"lastOf\"])(stack) instanceof _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"])) {\r\n                let poped = stack.pop()\r\n                buffer.push(poped)\r\n                if (Object(_len__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(stack) === 0) throw SyntaxError(\"Brace start is lacked.\")\r\n            }\r\n            stack.pop()\r\n\r\n        } else if (token instanceof _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"]) {\r\n            stack.push(token)\r\n\r\n        } else {\r\n            while (Object(_len__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(stack) > 0) {\r\n                if (Object(_array_util__WEBPACK_IMPORTED_MODULE_3__[\"lastOf\"])(stack).priority > token.priority) {\r\n                    let poped = stack.pop()\r\n                    buffer.push(poped)\r\n                } else {\r\n                    break\r\n                }\r\n            }\r\n            stack.push(token)\r\n        }\r\n    }\r\n\r\n    while (Object(_len__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(stack) > 0) {\r\n        let poped = stack.pop()\r\n        if (poped instanceof _token_brace_tokens__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"]) throw SyntaxError(\"Brace must be closed.\")\r\n        buffer.push(poped)\r\n    }\r\n    return buffer\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/rearrange_tokens_to_RPN.js?");

/***/ }),

/***/ "../ast/src/arithmetic/syntax_checker.js":
/*!***********************************************!*\
  !*** ../ast/src/arithmetic/syntax_checker.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return checkSyntaxError; });\n/* harmony import */ var _token_operator_token_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../token/operator_token.js */ \"../ast/src/token/operator_token.js\");\n/* harmony import */ var _token_brace_tokens_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../token/brace_tokens.js */ \"../ast/src/token/brace_tokens.js\");\n/* harmony import */ var _len_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../len.js */ \"../ast/src/len.js\");\n/* harmony import */ var _array_util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../array_util.js */ \"../ast/src/array_util.js\");\n/* harmony import */ var _token_concat_tokens_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../token/concat_tokens.js */ \"../ast/src/token/concat_tokens.js\");\n\n\n\n\n\n\nfunction confirmParenthesesCorrespondency(tokens) {\n    if (tokens.filter(e => e instanceof _token_brace_tokens_js__WEBPACK_IMPORTED_MODULE_1__[\"BraceStart\"]).length !== tokens.filter(e => e instanceof _token_brace_tokens_js__WEBPACK_IMPORTED_MODULE_1__[\"BraceEnd\"]).length) {\n        //console.log(tokens.filter(e => e instanceof BraceStart).length, tokens.filter(e => e instanceof BraceEnd).length)\n        throw new SyntaxError(`Parentheses must be closed. ${Object(_token_concat_tokens_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(tokens)}`)\n    }\n}\n\nfunction checkAdjacentOperators(checked, token) {\n    if (Object(_len_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(checked) === 0) return [token]\n\n    const last = Object(_array_util_js__WEBPACK_IMPORTED_MODULE_3__[\"lastOf\"])(checked)\n\n    if ((last instanceof _token_operator_token_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) & (token instanceof _token_operator_token_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])) {\n        throw new SyntaxError(`${Object(_token_concat_tokens_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])([...checked, token])}: ${token.value} cannot be after  ${last.value}`)\n    }\n    return [...checked, token]\n}\n\n/**\n * 1. Confirm the correspondence of parentheses\n * 2. Check if the operators are not adjacent\n *\n * @param {Array<Token>} tokens\n * @return {Array<Token>}\n */\nfunction checkSyntaxError(tokens) {\n    confirmParenthesesCorrespondency(tokens)\n    return tokens.reduce(checkAdjacentOperators, [])\n}\n\n\n//# sourceURL=webpack:///../ast/src/arithmetic/syntax_checker.js?");

/***/ }),

/***/ "../ast/src/array_util.js":
/*!********************************!*\
  !*** ../ast/src/array_util.js ***!
  \********************************/
/*! exports provided: withoutLastOf, lastOf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"withoutLastOf\", function() { return withoutLastOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lastOf\", function() { return lastOf; });\n/**\r\n * @parameter {Array<T>} array\r\n * @return {Array<T>}\r\n */\r\nfunction withoutLastOf(array) {\r\n    return array.slice(0, array.length - 1)\r\n}\r\n\r\n/**\r\n * @parameter {Array<T>} array\r\n * @return T\r\n */\r\nfunction lastOf(array) {\r\n    return array[array.length - 1]\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/array_util.js?");

/***/ }),

/***/ "../ast/src/ast.js":
/*!*************************!*\
  !*** ../ast/src/ast.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AST; });\n/* harmony import */ var _variable_table_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./variable_table.js */ \"../ast/src/variable_table.js\");\n\r\n\r\nclass AST {\r\n    constructor(parser, evaluator) {\r\n        this._parser = parser\r\n        this._evaluator = evaluator\r\n        this._tree\r\n        this._variableTable = new _variable_table_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]()\r\n        this._variableUpdator = this._variableTable.getUpdator()\r\n        return this\r\n    }\r\n\r\n    parse(expression) {\r\n        this._tree = this._parser(this._variableTable)(expression)\r\n        return this\r\n    }\r\n\r\n    evaluate(variableTable) {\r\n        if (variableTable != undefined) this._variableUpdator(variableTable)\r\n        return this._evaluator(this.tree)\r\n    }\r\n\r\n    get tree() {\r\n        return this._tree\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/ast.js?");

/***/ }),

/***/ "../ast/src/binary_tree/binary_tree.js":
/*!*********************************************!*\
  !*** ../ast/src/binary_tree/binary_tree.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BinaryTree; });\nclass BinaryTree {\r\n    constructor(value, left, right) {\r\n        this._value = value\r\n        this._left = left\r\n        this._right = right\r\n    }\r\n\r\n    get value() {\r\n        return this._value\r\n    }\r\n\r\n    get left() {\r\n        return this._left\r\n    }\r\n\r\n    get right() {\r\n        return this._right\r\n    }\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/binary_tree/binary_tree.js?");

/***/ }),

/***/ "../ast/src/binary_tree/empty_node.js":
/*!********************************************!*\
  !*** ../ast/src/binary_tree/empty_node.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EmptyNode; });\n/* harmony import */ var _binary_tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary_tree */ \"../ast/src/binary_tree/binary_tree.js\");\n\r\n\r\nclass EmptyNode extends _binary_tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(...arg) {\r\n        super(...arg)\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/binary_tree/empty_node.js?");

/***/ }),

/***/ "../ast/src/binary_tree/literal_node.js":
/*!**********************************************!*\
  !*** ../ast/src/binary_tree/literal_node.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LiteralNode; });\n/* harmony import */ var _binary_tree_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary_tree.js */ \"../ast/src/binary_tree/binary_tree.js\");\n/* harmony import */ var _empty_node_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty_node.js */ \"../ast/src/binary_tree/empty_node.js\");\n\r\n\r\n\r\nclass LiteralNode extends _binary_tree_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(value, _, __) {\r\n        super(value, new _empty_node_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](), new _empty_node_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]())\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/binary_tree/literal_node.js?");

/***/ }),

/***/ "../ast/src/binary_tree/operator_node.js":
/*!***********************************************!*\
  !*** ../ast/src/binary_tree/operator_node.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return OperatorNode; });\n/* harmony import */ var _binary_tree_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary_tree.js */ \"../ast/src/binary_tree/binary_tree.js\");\n\r\n\r\nclass OperatorNode extends _binary_tree_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(operator, left, right) {\r\n        super(operator, left, right)\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/binary_tree/operator_node.js?");

/***/ }),

/***/ "../ast/src/binary_tree/variable_node.js":
/*!***********************************************!*\
  !*** ../ast/src/binary_tree/variable_node.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VariableNode; });\n/* harmony import */ var _binary_tree_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./binary_tree.js */ \"../ast/src/binary_tree/binary_tree.js\");\n/* harmony import */ var _empty_node_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./empty_node.js */ \"../ast/src/binary_tree/empty_node.js\");\n\r\n\r\n\r\nclass VariableNode extends _binary_tree_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(value, _, __) {\r\n        super(value, new _empty_node_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](), new _empty_node_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]())\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/binary_tree/variable_node.js?");

/***/ }),

/***/ "../ast/src/len.js":
/*!*************************!*\
  !*** ../ast/src/len.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return len; });\n/**\r\n * @parameter {Array | Map | Object} collection\r\n * @return {number}\r\n */\r\nfunction len(collection) {\r\n    if (collection.hasOwnProperty(\"length\")) {\r\n        return collection.length\r\n    }\r\n    if (collection.hasOwnProperty(\"size\")) {\r\n        return collection.size\r\n    }\r\n    if (collection instanceof Object) {\r\n        return Object.keys(collection).length\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/len.js?");

/***/ }),

/***/ "../ast/src/token/brace_tokens.js":
/*!****************************************!*\
  !*** ../ast/src/token/brace_tokens.js ***!
  \****************************************/
/*! exports provided: BraceStart, BraceEnd */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BraceStart\", function() { return BraceStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BraceEnd\", function() { return BraceEnd; });\n/* harmony import */ var _grouper_tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grouper_tokens */ \"../ast/src/token/grouper_tokens.js\");\n\n\nclass BraceStart extends _grouper_tokens__WEBPACK_IMPORTED_MODULE_0__[\"GroupStartToken\"] {\n    constructor(symbol) {\n        super(symbol)\n    }\n}\n\nclass BraceEnd extends _grouper_tokens__WEBPACK_IMPORTED_MODULE_0__[\"GroupEndToken\"] {\n    constructor(symbol) {\n        super(symbol)\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/token/brace_tokens.js?");

/***/ }),

/***/ "../ast/src/token/concat_tokens.js":
/*!*****************************************!*\
  !*** ../ast/src/token/concat_tokens.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return concatTokens; });\n/**\r\n * @parameter {Array<Token>} tokens\r\n * @return {string}\r\n */\r\nfunction concatTokens(tokens, sep = \"\") {\r\n    return tokens.map(token => token.value).reduce((acc, e) => (acc !== \"\") ? acc + sep + e : acc + e, \"\")\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/token/concat_tokens.js?");

/***/ }),

/***/ "../ast/src/token/grouper_tokens.js":
/*!******************************************!*\
  !*** ../ast/src/token/grouper_tokens.js ***!
  \******************************************/
/*! exports provided: GroupStartToken, GroupEndToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupStartToken\", function() { return GroupStartToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupEndToken\", function() { return GroupEndToken; });\n/* harmony import */ var _token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./token */ \"../ast/src/token/token.js\");\n\n\nclass GroupStartToken extends _token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(...arg) {\n        super(...arg)\n    }\n}\n\nclass GroupEndToken extends _token__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(...arg) {\n        super(...arg)\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/token/grouper_tokens.js?");

/***/ }),

/***/ "../ast/src/token/operand_token.js":
/*!*****************************************!*\
  !*** ../ast/src/token/operand_token.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Operand; });\n/* harmony import */ var _token_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./token.js */ \"../ast/src/token/token.js\");\n\n\nclass Operand extends _token_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(value) {\n        super(value)\n    }\n\n    expr(_, __) {\n        return this.value\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/token/operand_token.js?");

/***/ }),

/***/ "../ast/src/token/operator_token.js":
/*!******************************************!*\
  !*** ../ast/src/token/operator_token.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Operator; });\n/* harmony import */ var _token_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./token.js */ \"../ast/src/token/token.js\");\n\r\n\r\nclass Operator extends _token_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(evalFunc, priority, symbol) {\r\n        super(symbol)\r\n        this.evalFunc = evalFunc\r\n        this._priority = priority\r\n    }\r\n\r\n    expr() {\r\n        return this.evalFunc\r\n    }\r\n\r\n    get priority() {\r\n        return this._priority\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/token/operator_token.js?");

/***/ }),

/***/ "../ast/src/token/token.js":
/*!*********************************!*\
  !*** ../ast/src/token/token.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Token; });\nclass Token {\r\n    constructor(value) {\r\n        this._value = String(value)\r\n    }\r\n\r\n    get value() {\r\n        return this._value\r\n    }\r\n\r\n    expr() {\r\n\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/token/token.js?");

/***/ }),

/***/ "../ast/src/token/token_factory.js":
/*!*****************************************!*\
  !*** ../ast/src/token/token_factory.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return tokenFactory; });\n/** Interface Token {\r\n *    type: \"operator\" | \"number\" | \"variable\" | \"brace_start\" | \"brace_end\";\r\n *    priority : 0 | 1 | 2;\r\n *    value: string;\r\n * }\r\n */\r\n\r\n/**\r\n *\r\n * @param {Token} _TokenCls\r\n * @return {(...any) => new Token}\r\n */\r\nfunction tokenFactory(_TokenCls) {\r\n    return (...arg) => new _TokenCls(...arg)\r\n}\r\n\n\n//# sourceURL=webpack:///../ast/src/token/token_factory.js?");

/***/ }),

/***/ "../ast/src/token/variable_parenthis.js":
/*!**********************************************!*\
  !*** ../ast/src/token/variable_parenthis.js ***!
  \**********************************************/
/*! exports provided: VariableStartParenthis, VariableEndParenthis */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VariableStartParenthis\", function() { return VariableStartParenthis; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VariableEndParenthis\", function() { return VariableEndParenthis; });\n/* harmony import */ var _grouper_tokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./grouper_tokens */ \"../ast/src/token/grouper_tokens.js\");\n\n\nclass VariableStartParenthis extends _grouper_tokens__WEBPACK_IMPORTED_MODULE_0__[\"GroupStartToken\"] {\n    constructor(symbol) {\n        super(symbol)\n    }\n}\n\nclass VariableEndParenthis extends _grouper_tokens__WEBPACK_IMPORTED_MODULE_0__[\"GroupEndToken\"] {\n    constructor(symbol) {\n        super(symbol)\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/token/variable_parenthis.js?");

/***/ }),

/***/ "../ast/src/variable_table.js":
/*!************************************!*\
  !*** ../ast/src/variable_table.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VariableTable; });\nclass VariableTable {\n    constructor(variable_dict) {\n        this._table = variable_dict\n        this._length\n    }\n\n    get length() {\n        return Object.keys(this._table).length\n    }\n\n    get(name) {\n        return this._table[name]\n    }\n\n    getUpdator() {\n        return variable_dict => {\n            this._table = { ...this._table, ...variable_dict }\n        }\n    }\n}\n\n\n//# sourceURL=webpack:///../ast/src/variable_table.js?");

/***/ }),

/***/ "./node_modules/node-fetch/browser.js":
/*!********************************************!*\
  !*** ./node_modules/node-fetch/browser.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;\n\n//# sourceURL=webpack:///./node_modules/node-fetch/browser.js?");

/***/ }),

/***/ "./src/js/Graph-abundance-plot.js":
/*!****************************************!*\
  !*** ./src/js/Graph-abundance-plot.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GraphAbundancePlot; });\n/* harmony import */ var _GraphClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GraphClass */ \"./src/js/GraphClass.js\");\n/* harmony import */ var _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graph-event-trans-excramate */ \"./src/js/Graph-event-trans-excramate.js\");\n/* harmony import */ var _lib_funcTools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/funcTools */ \"./src/js/lib/funcTools.js\");\n/* harmony import */ var _usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./usecases/plot_data_class_name */ \"./src/js/usecases/plot_data_class_name.js\");\n\n\n\n\n\nconst {\n    transduce,\n    Dataframe\n} = _lib_funcTools__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nconst {\n    mapping,\n    filtering,\n    intoArray\n} = transduce;\n\n\n\nclass Abundance extends _GraphClass__WEBPACK_IMPORTED_MODULE_0__[\"Graph\"] {\n    /**\n     * @param{string} graph\n     * @param{string} setting\n     * @param{Tooltip} tooltip\n     */\n    constructor(graph, setting, tooltip) {\n        super(graph, setting, tooltip);\n        this.magnifyMyData = {\n            r: 1.5,\n            strokeWidth: 1.2\n        }\n    }\n\n\n    replot(uiState) {\n        this.console.refData = Abundance.getNormList(uiState, this.console);\n        const plotFunc = Abundance.showPlot(\n            this.xAxis,\n            this.console,\n            this.scale,\n            this.plotStyle,\n            uiState\n        );\n\n        const path = this.canvas.selectAll(\"g\").data(uiState.data);\n        path.exit().transition().remove()\n        const entered = path.enter().append(\"g\");\n        const merged = entered.merge(path);\n        merged.each(plotFunc)\n\n        merged.on(\"mouseover\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onMouseOver(\n            this.console,\n            this.plotStyle,\n            uiState\n        ))\n            .on(\"mouseover.tooltip\", this.showTooltip(uiState))\n            .on(\"mouseout\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onMouseOut(\n                this.console,\n                this.plotStyle,\n                uiState\n            ))\n            .on(\"mouseout.tooltip\", this.hideTooltip())\n            .on(\"click\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onClick(\n                this.console,\n                this.plotStyle,\n                uiState\n            ));\n\n\n        this.svg.on(\"click\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].globalClick(merged, this.plotStyle))\n    }\n\n    showTooltip(uiState) {\n        return (d) => {\n            this.tooltip.updateContent(`${uiState.tooltipAST.evaluate(d)}`)\n            this.tooltip.show()\n        }\n    }\n\n    hideTooltip() {\n        return (d) => {\n            this.tooltip.hide()\n        }\n    }\n\n\n    static showPlot(\n        xAxis,\n        { doNormalization, refData },\n        scale,\n        plotStyle,\n        { symbol, styleClass, optionalClasses }\n    ) {\n        const defined = d => !isNaN(d.y) && d.y !== 0 && isFinite(d.y);\n        const line = d3.line()\n            .x(d => scale.x(d.x))\n            .y(d => scale.y(d.y))\n            .defined(defined);\n\n\n        const getOneLine = d => xAxis.label.map(e => ({\n            x: e,\n            y: d[e]\n        }))\n        const normalize = Abundance.getNormalizedData(doNormalization, refData)\n        return function (d) {\n            const data = getOneLine(normalize(d))\n            const filtered = data.filter(defined)\n            d3.select(this)\n                .attr(\"class\", d => Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_3__[\"setClass\"])(d, \"Abundance\", styleClass, optionalClasses))\n                .selectAll(\"path\")\n                .remove()\n            d3.select(this).append(\"path\")\n                .attr(\"fill\", \"none\")\n                .attr(\"class\", d => Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_3__[\"setClass\"])(d, \"Abundance\", styleClass, optionalClasses))\n                .attr(\"stroke-width\", plotStyle.strokeWidth)\n                .attr(\"opacity\", plotStyle.opacity)\n                .transition()\n                //.call(line)\n                .attr(\"d\", line(data))\n            if (data.length === filtered.length) return;\n            d3.select(this).append(\"path\")\n                .attr(\"fill\", \"none\")\n                .attr(\"class\", d => Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_3__[\"setClass\"])(d, \"Abundance\", styleClass, optionalClasses))\n                .attr(\"stroke-width\", plotStyle.strokeWidth * 0.9)\n                .attr(\"opacity\", plotStyle.opacity)\n                .attr(\"stroke-dasharray\", \"1 8\")\n                .attr(\"stroke-linecap\", \"round\")\n                .transition()\n                //.call(line)\n                .attr(\"d\", line(filtered))\n\n        }\n    }\n\n\n\n\n    static getNormList({ refData }, { normInfo }) {\n        return refData\n            .filter(e => e.name === normInfo[0] && e.study === normInfo[1])[0]\n    }\n\n    getSetting() {\n        const setting = {};\n        [...document.querySelector(this.settingId).querySelectorAll(\"input\")].forEach(d => {\n            switch (d.type) {\n                case \"checkbox\":\n                    setting[d.id] = d.checked;\n                    break;\n                case \"text\":\n                    setting[d.id] = d.value;\n                    break;\n                case \"number\":\n                    setting[d.id] = parseFloat(d.value);\n                    break;\n                case \"range\":\n                    setting[d.id] = parseFloat(d.value);\n                    break;\n                default:\n                    setting[d.id] = d.value;\n                    break;\n            }\n        });\n        [...document.querySelector(this.settingId).querySelectorAll(\"select\")].forEach(d => {\n            setting[d.id] = d.value;\n        })\n\n        setting.normInfo = setting.reserver.split(\",\")\n        return setting\n    }\n\n    updateFigureSize() {\n        const width = parseInt(\n            document.querySelector(\"body\").clientWidth * this.console.imageSize);\n        const aspect = this.console.aspect;\n\n        this.graphGeometry.figureSize = {\n            width: parseInt(width),\n            height: parseInt(width * aspect)\n        }\n    }\n\n\n    updateXAxis() {\n        this.xAxis.label = this.console.eleName\n            .replace(/,/g, \" \")\n            .replace(/\\s+/g, \" \")\n            .replace(/\\s$/, \"\")\n            .split(\" \")\n    }\n\n    updateYAxis() {\n    }\n\n    updateTitle() {\n        const { normInfo, doNormalization } = this.console;\n        this.setTitle((doNormalization)\n            ? `Normalized by ${normInfo[0]}`\n            : `Abundance`);\n    }\n\n    updateAxisType() {\n        const size = this.graphGeometry.figureSize\n        const axis = this.graphGeometry.axisSize\n        this.scale.x = d3.scalePoint();\n        this.scale.x.domain(this.extent.x)\n            .range([0, axis.width])\n            .padding(0.5);\n        this.axis.x = d3.axisBottom(this.scale.x)\n        this.axis.x.tickSize(6, -size.height);\n\n        this.scale.y = d3.scaleLog()\n        this.scale.y.domain(this.extent.y)\n            .range([axis.height, 0])\n            .nice();\n        this.axis.y = d3.axisLeft(this.scale.y)\n        this.axis.y.tickSize(6, -size.width);\n\n    }\n\n    static getNormalizedData(doNormalization, refData) {\n        return d => {\n            if (doNormalization) {\n                const obj = {}\n                Object.entries(d)\n                    .forEach(([k, v]) => {\n\n                        if (isNaN(refData[k]) && isNaN(v)) {\n                            obj[k] = v\n                        } else {\n                            const val = v / refData[k]\n                            if (isNaN(refData[k])) {\n                                obj[k] = NaN;\n                            } else {\n                                obj[k] = (isFinite(val))\n                                    ? val\n                                    : NaN;\n                            }\n                        }\n                    })\n                return obj\n            } else {\n                return d\n            }\n        }\n    }\n\n    updateExtent() {\n        const { y_min, y_max } = this.console;\n        this.extent.x = this.xAxis.label;\n        this.extent.y = [y_min, y_max]\n    }\n}\n\nclass GraphAbundancePlot extends _GraphClass__WEBPACK_IMPORTED_MODULE_0__[\"GraphManager\"] {\n    constructor(uiState) {\n        super(uiState);\n        this.label = \"Abundance pattern\";\n        this.type = \"Abundance\";\n        this.Graph = Abundance;\n    }\n\n    style() {\n        return `\n  top: 50px;\n  left: 30%;\n  width: 50vw;\n  min-width: 300px;\n    `\n    }\n\n    template(uiState) {\n        return `\n<style>\n.abundance-setting{\n  display : flex;\n  flex-direction : column;\n}\n.abundance-setting > div{\n  display : flex;\n  align-items : center;\n  border-bottom : 1px dashed var(--form-color);\n  margin: 3px 0;\n  padding : 10px 0;\n}\n.abundance-setting .inp.wide{\n  max-width : 100%;\n}\n.abundance-setting .imageInput span{\n  flex : 1;\n}\n.abundance-setting .imageInput input{\n  flex : 2;\n}\n.abundance-setting .imageInput label{\n  min-width: 100px;\n}\n</style>\n\n\n<form class=\"abundance-setting\" name=\"formAbundance\" action=\"#\">\n  <a href=\"#\" class=\"close_button\"></a>\n  <hr style=\"visibility:hidden\">\n\n  <datalist id=\"eleList\">\n    <option value=\"La Ce Pr Nd Sm Eu Gd Tb Dy Ho Er Tm Yb Lu\"></option>\n    <option value=\"Rb Ba Th U Ta Nb K La Ce Pb Pr Sr Nd Zr Hf Sm Eu Gd Tb Dy Y Ho Er Tm Yb Lu\"></option>\n    <option value=\"Rb Ba Th Nb La Ce Pb Pr Sr Nd Zr Hf Sm Eu Gd Tb Dy Y Ho Er Tm Yb Lu\"></option>\n    <option value=\"Rb Ba Th U K Ta Nb La Ce Sr Nd P Hf Zr Sm Ti Tb Yb\"></option>\n    <option value=\"Sr K Rb Ba Th Ta Nb Ce P Zr Hf Sm Ti Y Yb\"></option>\n    <option value=\"Rb Ba Th K Nb La Ce Sr Nd Zr Sm Eu Gd Ti Dy Y Er Yb V Cr Ni\"></option>\n    <option value=\"Rb Ba Th Nb K Pb Sr Nd Zr Hf Y\"></option>\n  </datalist>\n\n  <div class=\"eleInput__Abundance\">\n    <label >\n      <input type=\"checkbox\" id=\"doNormalization\" tabindex=0 checked>\n      <span class=\"checkbox-parts\">Normalize</span>\n    </label>\n\n    <label for=\"eleName\" class=\"inp wide\">\n      <input  type=\"text\" id=\"eleName\" placeholder=\"&nbsp;\"  pattern=\"^[0-9A-Za-z\\\\s]+$\" autofocus required  list=\"eleList\" autocomplete=\"on\" value=\"La Ce Pr Nd Sm Eu Gd Tb Dy Ho Er Tm Yb Lu\">\n      <span class=\"label\">Element list</span>\n      <span class=\"border\"></span>\n    </label>\n  </div>\n\n  <div>\n  <span class=\"text\">Normalizing reserver</span>\n  <br>\n  <select id=\"reserver\">\n    <optgroup label=\"Primitive mantle\">\n      <option value=\"PM,Sun&McDonough-1989\">Sun & McDonough(1989)</option>\n      <option value=\"PM,Lyubetskaya&Korenaga-2007\">Lyubetskaya & Korenaga(2007)</option>\n    </optgroup>\n    <optgroup label=\"MORB source mantle\">\n      <option value=\"AverageDMM,Workman&Hart-2005\">Average DMM by Workman & Hart (2005)</option>\n      <option value=\"EDMM,Workman&Hart-2005\">EDMM by Workman & Hart(2005)</option>\n      <option value=\"DDMM,Workman&Hart-2005\">DMM by Workman & Hart(2005)</option>\n    </optgroup>\n    <optgroup label=\"MORB\">\n      <option value=\"NMORB,Sun&McDonough-1989\">MORB by Sun & McDonough(1989)</option>\n      <option value=\"EMORB,Sun&McDonough-1989\">EMORB by Sun & McDonough(1989)</option>\n    </optgroup>\n    <optgroup label=\"OIB\">\n      <option value=\"OIB,Sun&McDonough-1989\">OIB by Sun & McDonough(1989)</option>\n    </optgroup>\n    <optgroup label=\"Chondrite\">\n      <option value=\"CI_chondrite,Lodders-2003\">CI chondrite by Lodders(2003)</option>\n    </optgroup>\n    <optgroup label=\"Raw value\">\n      <option value=\"not_normalize,mine\">Not normalizing</option>\n    </optgroup>\n  </select>\n  </div>\n\n\n  <div class=\"rangeInput__Abundance\">\n    <span>Range</span>\n    <label for=\"y_min\" class=\"inp\">\n      <input type=\"number\" id=\"y_min\" value=\"0.001\" placeholder=\"&nbsp;\">\n      <span class=\"label\">y min</span>\n      <span class=\"border\"></span>\n    </label>\n\n    <span class=\"text\">:</span>\n\n    <label for=\"y_max\" class=\"inp\">\n      <input type=\"number\" id=\"y_max\" value=\"1000\" placeholder=\"&nbsp;\">\n      <span class=\"label\">y max</span>\n      <span class=\"border\"></span>\n    </label>\n  </div>\n\n\n  <div class=\"imageInput\">\n      <span class=\"text\">Image size</span>\n      <input class=\"mdl-slider mdl-js-slider\" type=\"range\" id=\"imageSize\" min=\"0.2\" max=\"1\" value=\"0.5\" step=\"0.05\">\n\n  </div>\n\n  <div>\n    <label for=\"aspect\" class=\"inp\">\n      <input type=\"number\" id=\"aspect\" min=\"0.1\" value=\"0.8\" step=\"0.05\" placeholder=\"&nbsp;\">\n      <span class=\"label\">aspect ratio</span>\n      <span class=\"border\"></span>\n    </label>\n  </div>\n\n</form>\n  `}\n}\n\n\n//# sourceURL=webpack:///./src/js/Graph-abundance-plot.js?");

/***/ }),

/***/ "./src/js/Graph-binary-plot.js":
/*!*************************************!*\
  !*** ./src/js/Graph-binary-plot.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GraphBinaryPlot; });\n/* harmony import */ var _GraphClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GraphClass */ \"./src/js/GraphClass.js\");\n/* harmony import */ var _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graph-event-trans-excramate */ \"./src/js/Graph-event-trans-excramate.js\");\n/* harmony import */ var _lib_funcTools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/funcTools */ \"./src/js/lib/funcTools.js\");\n/* harmony import */ var _usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./usecases/plot_data_class_name */ \"./src/js/usecases/plot_data_class_name.js\");\n/* harmony import */ var ast_src_arithmetic_primitive_ast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ast/src/arithmetic/primitive/ast */ \"../ast/src/arithmetic/primitive/ast.js\");\n/* harmony import */ var _usecases_label_presenter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./usecases/label_presenter */ \"./src/js/usecases/label_presenter.js\");\n\n\n\n\n\n\n\nclass AST extends ast_src_arithmetic_primitive_ast__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n    constructor(...arg) {\n        super(...arg)\n    }\n\n    evaluate(...arg) {\n        try {\n            return super.evaluate(...arg)\n        } catch (e) {\n            if (e instanceof TypeError) return NaN\n        }\n    }\n}\n\n\nconst {\n    transduce,\n    Dataframe\n} = _lib_funcTools__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nconst {\n    mapping,\n    filtering,\n    intoArray\n} = transduce;\n\n\n\nconst getPrecision = (val, precise = 4) => {\n    let value = new Number(val);\n    return value.toPrecision(precise);\n}\n\n/**\n * Make binary plot of x and y axis.\n * Arithmetic formula with column name of data table is\n *  available for x and y axis.\n *\n */\nclass Binary extends _GraphClass__WEBPACK_IMPORTED_MODULE_0__[\"Graph\"] {\n    constructor(graph, setting, tooltip) {\n        super(graph, setting, tooltip);\n        this.magnifyMyData = {\n            r: 1.5,\n            strokeWidth: 1.2\n        }\n        this.xAST = new AST()\n        this.yAST = new AST()\n    }\n\n\n    replot(uiState) {\n\n        const canvas = this.canvas;\n        const plotFunc = Binary.showPoint(\n            this.xAST,\n            this.yAST,\n            this.scale,\n            this.plotStyle,\n            uiState\n        );\n\n        const circle = canvas.selectAll(\"circle\").data(uiState.data);\n        circle.exit().transition().remove();\n        const enter = circle.enter().append(\"circle\")\n        const merged = enter.merge(circle)\n        merged.each(plotFunc);\n\n        merged.on(\"mouseover\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onMouseOver(\n            this.console,\n            this.plotStyle,\n            uiState\n        ))\n            .on(\"mouseover.tooltip\", this.showTooltip(uiState))\n            .on(\"mouseout\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onMouseOut(\n                this.console,\n                this.plotStyle,\n                uiState\n            ))\n            .on(\"mouseout.tooltip\", this.hideTooltip())\n            .on(\"click\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onClick(\n                this.console,\n                this.plotStyle,\n                uiState\n            ), false);\n\n        this.svg.on(\"click.onoff\", _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].globalClick(merged, this.plotStyle), false)\n        _Graph_event_trans_excramate__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateExtentByBrush(this.brushArea, {\n            end: Binary.updateExtentByBrush(uiState).bind(this)\n        });\n    }\n\n    static updateExtentByBrush(state) {\n        return function (d3_event) {\n            const [start, end] = d3_event.selection;\n            this.extent.x = [\n                this.scale.x.invert(start[0]),\n                this.scale.x.invert(end[0])\n            ];\n            this.extent.y = [\n                this.scale.y.invert(end[1]),\n                this.scale.y.invert(start[1])\n            ];\n            this.updateAxis();\n            this.replot(state);\n        }\n    }\n\n    showTooltip(uiState) {\n        return (d) => {\n            this.tooltip.updateContent(`${uiState.tooltipAST.evaluate(d)} [ ${getPrecision(this.xAST.evaluate(d))}, ${getPrecision(this.yAST.evaluate(d))} ]`)\n            this.tooltip.show()\n        }\n    }\n\n    hideTooltip() {\n        return (d) => {\n            this.tooltip.hide()\n        }\n    }\n\n    static showPoint(\n        xAST,\n        yAST,\n        scale,\n        plotStyle,\n        { styleClass, optionalClasses }\n    ) {\n\n        return function (d) {\n            const cx = scale.x(xAST.evaluate(d))\n            const cy = scale.y(yAST.evaluate(d))\n\n            const self = d3.select(this)\n\n            if (isNaN(cx) || isNaN(cy) || !isFinite(cx) || !isFinite(cy)) {\n                self.transition()\n                    .attr(\"r\", 0)\n                    .remove();\n                return false;\n            }\n            self.attr('stroke-width', d => d.study === \"mine\" ? 1 : \"none\")\n                .attr(\"fill\", \"none\")\n                .attr(\"class\", d => Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_3__[\"setClass\"])(d, \"Binary\", styleClass, optionalClasses))\n                .attr(\"opacity\", plotStyle.opacity)\n                .transition()\n                .attr(\"r\", plotStyle.r)\n                .attr(\"cx\", cx)\n                .attr(\"cy\", cy)\n        }\n    }\n\n    static plotStyle(type, multiple, { symbol }) {\n        return function (d) {\n            const value = (d.onState === \"selected\")\n                ? symbol[\"selected\" + type]\n                : (d.onState === \"on\")\n                    ? symbol[\"on\" + type]\n                    : symbol[\"base\" + type];\n            return (d.study === \"mine\")\n                ? value * multiple\n                : value\n        }\n    }\n\n    getSetting() {\n        const setting = {};\n        [...document.querySelector(this.settingId).querySelectorAll(\"input\")].forEach(d => {\n            switch (d.type) {\n                case \"checkbox\":\n                    setting[d.id] = d.checked;\n                    break;\n                case \"text\":\n                    setting[d.id] = d.value;\n                    break;\n                case \"number\":\n                    setting[d.id] = parseFloat(d.value);\n                    break;\n                case \"range\":\n                    setting[d.id] = parseFloat(d.value);\n                    break;\n                default:\n                    setting[d.id] = d.value;\n                    break;\n            }\n        });\n        [...document.querySelector(this.settingId).querySelectorAll(\"select\")].forEach(d => {\n            setting[d.id] = d.value;\n        })\n        return setting\n    }\n\n\n    updateFigureSize() {\n        const width = parseInt(\n            document.querySelector(\"body\").clientWidth * this.console.imageSize);\n        const aspect = this.console.aspect;\n\n        this.graphGeometry.figureSize = {\n            width: parseInt(width),\n            height: parseInt(width * aspect)\n        }\n    }\n\n    updateXAxis() {\n        this.xAxis.label = Object(_usecases_label_presenter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.console.xName)\n        this.xAxis.setRange(this.console.x_min, this.console.x_max)\n        this.yAxis.scaleType = (this.console.checkLogX) ? \"log\" : \"linear\"\n\n        this.xAST.parse(this.console.xName)\n    }\n\n    updateYAxis() {\n        this.yAxis.label = Object(_usecases_label_presenter__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this.console.yName)\n        this.yAxis.setRange(this.console.y_min, this.console.y_max)\n        this.yAxis.scaleType = (this.console.checkLogY) ? \"log\" : \"linear\"\n        this.yAST.parse(this.console.yName)\n    }\n\n    updateState() {\n\n    }\n\n\n    updateTitle() {\n        this.setTitle(`${this.xAxis.label} vs. ${this.yAxis.label}`);\n    }\n\n    updateAxisType() {\n        const size = this.graphGeometry.figureSize;\n        const axis = this.graphGeometry.axisSize;\n        this.scale.x = (this.xAxis.isLog())\n            ? d3.scaleLog()\n            : d3.scaleLinear();\n        this.scale.x.domain(this.extent.x)\n            .range([0, axis.width])\n            .nice();\n        this.axis.x = d3.axisBottom(this.scale.x).ticks(5)\n        this.axis.x.tickSize(6, -size.height);\n\n        this.scale.y = (this.yAxis.isLog())\n            ? d3.scaleLog()\n            : d3.scaleLinear();\n        this.scale.y.domain(this.extent.y)\n            .range([axis.height, 0])\n            .nice();\n        this.axis.y = d3.axisLeft(this.scale.y).ticks(5)\n        this.axis.y.tickSize(6, -size.width);\n\n    }\n\n    updateExtent({ data }) {\n        if (!Array.isArray(data)) return null;\n\n        const xRangeCand = d3.extent(data\n            .map(d => this.xAST.evaluate(d))\n            .filter(isFinite))\n        const yRangeCand = d3.extent(data\n            .map(d => this.yAST.evaluate(d))\n            .filter(isFinite))\n\n        this.extent.x = [\n            isNaN(this.xAxis.min)\n                ? xRangeCand[0]\n                : this.xAxis.min,\n            isNaN(this.xAxis.max)\n                ? xRangeCand[1]\n                : this.xAxis.max\n        ];\n\n        this.extent.y = [\n            isNaN(this.yAxis.min)\n                ? yRangeCand[0]\n                : this.yAxis.min,\n            isNaN(this.yAxis.max)\n                ? yRangeCand[1]\n                : this.yAxis.max\n        ];\n\n\n    }\n\n}\n\nclass GraphBinaryPlot extends _GraphClass__WEBPACK_IMPORTED_MODULE_0__[\"GraphManager\"] {\n    constructor(uiState) {\n        super(uiState);\n        this.label = \"Binary variation\";\n        this.type = \"Binary\";\n        this.Graph = Binary;\n    }\n\n\n\n    style() {\n        return `\n  top: 50px;\n  left: 30%;\n  width: 40vw;\n  min-width: 300px;\n    `\n    }\n\n    template(uiState) {\n        return `\n<style>\n.binary-setting{\n  display : flex;\n  flex-direction : column;\n}\n.binary-setting > div{\n  display : flex;\n  align-items : center;\n  border-bottom : 1px dashed var(--form-color);\n  margin: 3px 0;\n  padding : 10px 0;\n}\n\n.binary-setting .eleInput label{\n  /*width: 10vw;*/\n  min-width: 70px;\n}\n.binary-setting .rangeInput label{\n  /*width: 6vw;*/\n  min-width: 50px;\n}\n.binary-setting .imageInput {\n\n}\n.binary-setting .imageInput span{\n  flex : 1;\n}\n.binary-setting .imageInput input{\n  flex : 2;\n}\n.binary-setting .imageInput label{\n  /*width: 6vw;*/\n  min-width: 100px;\n}\n\n</style>\n\n<form class=\"binary-setting\" action=\"#\">\n  <a href=\"#\" class=\"close_button\"></a>\n  <hr style=\"visibility:hidden\">\n  <div class=\"eleInput\">\n    <span class=\"text\">element</span>\n\n    <label for=\"xName\" class=\"inp\">\n      <input type=\"text\" id=\"xName\" placeholder=\"&nbsp;\" pattern=\"^[0-9A-Za-z\\\\s]+$\" required autofocus list=\"indexList\" autocomplete=\"on\">\n      <span class=\"label\">x</span>\n      <span class=\"border\"></span>\n    </label>\n\n    <span class=\"text\">vs.</span>\n\n    <label for=\"yName\" class=\"inp\">\n      <input type=\"text\" id=\"yName\" placeholder=\"&nbsp;\" pattern=\"^[0-9A-Za-z\\\\s]+$\" required list=\"indexList\" autocomplete=\"on\">\n      <span class=\"label\">y</span>\n      <span class=\"border\"></span>\n    </label>\n\n\n  </div>\n\n\n\n  <div class=\"rangeInput\">\n    <span class=\"text\">Range</span>\n    <!-- x min : x max -->\n    <label for=\"x_min\" class=\"inp\">\n      <input type=\"number\" id=\"x_min\" placeholder=\"&nbsp;\">\n      <span class=\"label\">x min</span>\n      <span class=\"border\"></span>\n    </label>\n\n    <span class=\"text\">:</span>\n\n    <label for=\"x_max\" class=\"inp\">\n      <input type=\"number\" id=\"x_max\" placeholder=\"&nbsp;\">\n      <span class=\"label\">x max</span>\n      <span class=\"border\"></span>\n    </label>\n\n    <span class=\"text\">&</span>\n\n    <!-- y min : y max-->\n\n    <label for=\"y_min\" class=\"inp\">\n      <input type=\"number\" id=\"y_min\" placeholder=\"&nbsp;\">\n      <span class=\"label\">y min</span>\n      <span class=\"border\"></span>\n    </label>\n\n    <span class=\"text\">:</span>\n\n    <label for=\"y_max\" class=\"inp\">\n      <input type=\"number\" id=\"y_max\" placeholder=\"&nbsp;\">\n      <span class=\"label\">y max</span>\n      <span class=\"border\"></span>\n    </label>\n  </div>\n\n\n  <div class=\"logInput\">\n    <label >\n      <input type=\"checkbox\" id=\"checkLogX\" tabindex=0>\n      <span class=\"checkbox-parts\">log x</span>\n    </label>\n\n    <label>\n      <input type=\"checkbox\" id=\"checkLogY\"  tabindex=0>\n      <span class=\"checkbox-parts\" >log y</span>\n    </label>\n  </div>\n\n\n\n  <div class=\"imageInput\">\n      <span class=\"text\">Image size</span>\n      <input class=\"mdl-slider mdl-js-slider\" type=\"range\" id=\"imageSize\" min=\"0.2\" max=\"1\" value=\"0.3\" step=\"0.05\">\n\n  </div>\n\n  <div>\n    <label for=\"aspect\" class=\"inp\">\n      <input type=\"number\" id=\"aspect\" min=\"0.1\" value=\"0.8\" step=\"0.05\" placeholder=\"&nbsp;\">\n      <span class=\"label\">aspect ratio</span>\n      <span class=\"border\"></span>\n    </label>\n  </div>\n\n</form>\n    `\n    }\n};\n\n\n//# sourceURL=webpack:///./src/js/Graph-binary-plot.js?");

/***/ }),

/***/ "./src/js/Graph-event-trans-excramate.js":
/*!***********************************************!*\
  !*** ./src/js/Graph-event-trans-excramate.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TransExcramate; });\n/* harmony import */ var _usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./usecases/plot_data_class_name */ \"./src/js/usecases/plot_data_class_name.js\");\n\n\nlet clicked = false;  // for click events\nlet isOff = false; // for double click detction\n\n\nclass TransExcramate {\n    static onMouseOver(\n        _,\n        plotStyle,\n        { symbol }\n    ) {\n        return function (d) {\n            const sameId = Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_0__[\"extractClass\"])(d3.select(this).attr(\"class\"), \"id\");\n            const hovered = d3.selectAll(\".\" + sameId)\n                .each(d => {\n                    d.onState = (d.onState === \"selected\")\n                        ? \"selected\"\n                        : \"on\"\n                })\n                .classed(\"base\", false)\n                .classed(\"on\", d => d.onState === \"on\")\n            hovered.filter(\"circle.plot\")\n                .attr(\"r\", plotStyle.r)\n                .attr(\"opacity\", plotStyle.opacity);\n            hovered.filter(\"path.plot\")\n                .attr(\"stroke-width\", plotStyle.strokeWidth)\n                .attr(\"opacity\", plotStyle.opacity);\n\n            d3.selectAll(\"circle.base\")\n                .attr(\"opacity\", symbol.outOpacity)\n                .attr('r', symbol.outRadius);\n            d3.selectAll(\"path.base\")\n                .attr(\"opacity\", symbol.outOpacity)\n                .attr('stroke-width', symbol.outWidth);\n        }\n    }\n\n    static onMouseOut(_, plotStyle, { symbol }) {\n        return function (d) {\n            const self = d3.select(this);\n            const sameId = Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_0__[\"extractClass\"])(\n                self.attr(\"class\"),\n                \"id\"\n            );\n            const hovered = d3.selectAll(\".\" + sameId)\n                .each(d => {\n                    d.onState = (d.onState === \"selected\")\n                        ? \"selected\"\n                        : \"base\"\n                })\n                .classed(\"on\", false)\n                .classed(\"base\", d => d.onState === \"base\");\n\n            d3.selectAll(\"circle.base\")\n                .attr(\"opacity\", (isOff) ? symbol.outOpacity : plotStyle.opacity)\n                .attr('r', (isOff) ? symbol.outRadius : plotStyle.r);\n            d3.selectAll(\"path.base\")\n                .attr(\"opacity\", (isOff) ? symbol.outOpacity : plotStyle.opacity)\n                .attr('stroke-width', (isOff) ? symbol.outWidth : plotStyle.strokeWidth);\n        }\n    }\n\n    static onClick(_, plotStyle, { symbol }) {\n        return function (d) {\n            const self = d3.select(this);\n            const sameId = Object(_usecases_plot_data_class_name__WEBPACK_IMPORTED_MODULE_0__[\"extractClass\"])(\n                self.attr(\"class\"),\n                \"id\"\n            );\n            const selected = d3.selectAll(\".\" + sameId)\n            if (self.classed(\"selected\")) {\n                d.onState = \"base\";\n                selected\n                    .classed(\"selected\", false)\n                    .classed(\"base\", true)\n            } else {\n                d.onState = \"selected\";\n                selected\n                    .classed(\"selected\", true)\n                    .classed(\"base\", false)\n            }\n            selected.filter(\"circle.plot\")\n                .attr(\"opacity\", plotStyle.opacity)\n                .attr(\"r\", plotStyle.r);\n            selected.filter(\"path.plot\")\n                .attr(\"opacity\", plotStyle.opacity)\n                .attr(\"stroke-width\", plotStyle.strokeWidth)\n        }\n    }\n\n    static globalClick(merged, plotStyle) {\n        return function (d) {\n            if (clicked) {\n                TransExcramate.globalDoubleClick(merged, plotStyle)\n                clicked = false;\n                isOff = !isOff;\n                return\n            }\n            clicked = true;\n\n            // シングルタップ判定\n            setTimeout(function () {\n                if (clicked) {\n\n                }\n                clicked = false;\n            }, 300);\n        }\n    }\n\n    static globalDoubleClick(merged, plotStyle) {\n        merged.each(d => {\n            d.onState = \"base\"\n        })\n        d3.selectAll(\".plotArea circle.plot\")\n            .classed(\"selected\", false)\n            .classed(\"base\", true)\n            .attr(\"r\", plotStyle.r)\n            .attr(\"opacity\", plotStyle.opacity)\n        d3.selectAll(\".plotArea path.plot\")\n            .classed(\"selected\", false)\n            .classed(\"base\", true)\n            .attr(\"stroke-width\", plotStyle.strokeWidth)\n            .attr(\"opacity\", plotStyle.opacity)\n    }\n\n    static selectByBrush(g_plot_d3) {\n        g_plot_d3.call(\n            d3.brush()\n                .on(\"end\", d => {\n                    g_plot_d3.selectAll(\"circle.plot\")\n                        .each(function (d) {\n                            if (!d3.event.selection) return\n                            const self = d3.select(this);\n                            const cx = self.attr(\"cx\")\n                            const cy = self.attr(\"cy\")\n                            const [start, end] = d3.event.selection;\n                            if ((start[0] <= cx && cx <= end[0])\n                                && (start[1] <= cy && cy <= end[1])) {\n                                self.attr(\"opacity\", 1)\n                            } else {\n                                self.attr(\"opacity\", 0.1)\n                            }\n                        })\n\n                })\n        )\n    }\n\n    static updateExtentByBrush(g_plot_d3, callback) {\n        g_plot_d3.call(\n            d3.brush()\n                .on(\"start\", function () {\n                    d3.event\n                    g_plot_d3.selectAll(\".selection\")\n                        .attr(\"display\", \"\")\n                    g_plot_d3.selectAll(\".handle\")\n                        .attr(\"display\", \"\")\n                }, false)\n                .on(\"end\", function () {\n                    if (!d3.event.selection) return\n                    callback.end(d3.event);\n                    g_plot_d3.selectAll(\".selection\")\n                        .attr(\"display\", \"none\")\n                    g_plot_d3.selectAll(\".handle\")\n                        .attr(\"display\", \"none\")\n                    d3.event.selection = null;\n                }, false)\n        ).selectAll(\".overlay\") // これ以降を記述すると, brushイベントとcircleのクリックイベントが両立する\n            .each(d => d.type === \"selection\")\n            .on(\"mousedown\", d => d)\n    }\n}\n\n\n//# sourceURL=webpack:///./src/js/Graph-event-trans-excramate.js?");

/***/ }),

/***/ "./src/js/GraphClass.js":
/*!******************************!*\
  !*** ./src/js/GraphClass.js ***!
  \******************************/
/*! exports provided: Graph, GraphManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Graph\", function() { return Graph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GraphManager\", function() { return GraphManager; });\n/* harmony import */ var _entity_graph_geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity/graph_geometry */ \"./src/js/entity/graph_geometry.js\");\n/* harmony import */ var _entity_text_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./entity/text_style */ \"./src/js/entity/text_style.js\");\n/* harmony import */ var _entity_graph_axis_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./entity/graph_axis_info */ \"./src/js/entity/graph_axis_info.js\");\n/* harmony import */ var _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error/not_implemented_error */ \"./src/js/error/not_implemented_error.js\");\n\n\n\n\n\n/**\n * Grpahクラスの作り方\n *\n * Graphクラスを継承する.\n * 次のインスタンスメソッドを定義する\n *\n * * setStateX\n * * setStateY\n * * updateSvgSize\n * * updateAxisType\n * * updateExtent\n * * updateTitle\n * * replot\n * また, つぎのクラスメソッドを定義する\n *\n * * showPoint\n *\n * プロット要素へのuiイベントを設定するには次のクラスメソッドを定義する.\n *\n * * onMouseOver\n * * onMouseMove\n * * onMouseOut\n * * onClick\n*/\nclass Graph {\n    constructor(graphId, settingId, tooltip) {\n        this.graph = \"#\" + graphId;\n        this.settingId = \"#\" + settingId;\n        this.tooltip = tooltip\n        this.clipPathId = \"clip_\" + graphId\n        this.console = {}\n        this.graphGeometry = new _entity_graph_geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            figureSize: { width: 300, height: 200 },\n            figurePadding: { left: 10, right: 15, top: 15, buttom: 10 },\n            axisOffset: { x: 24 + 60, y: 24 + 40 },\n            axisSize: { width: 0, height: 0 },\n        })\n        /* svg style */\n        this.xlabel = new _entity_text_style__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({ fontSize: 24 })\n        this.ylabel = new _entity_text_style__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({ fontSize: 24 })\n        this.xtick = new _entity_text_style__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({ fontSize: 20 })\n        this.ytick = new _entity_text_style__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({ fontSize: 20 })\n\n        this.xAxis = new _entity_graph_axis_info__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"x\", 0, 1, \"linear\")\n        this.yAxis = new _entity_graph_axis_info__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"y\", 0, 1, \"linear\")\n\n        this.axis = {}\n        this.scale = {}\n        this.extent = { x: [0, 1], y: [0, 1] }\n\n        this.magnifyMyData = {\n            r: 1.5,\n            strokeWidth: 1.2\n        }\n    }\n\n    initialize(state) {\n        this.console = this.getSetting();\n        this.updateXAxis();\n        this.updateYAxis();\n        this.updateExtent(state);\n        this.updateFigureSize();\n        this.createFigure();\n        this.createAxis();\n        this.update(state);\n    }\n\n    setPlotStyle(uiState) {\n        const {\n            r,\n            strokeWidth\n        } = this.magnifyMyData;\n        this.plotStyle = {\n            r: Graph.plotStyle(\"Radius\", r, uiState),\n            strokeWidth: Graph.plotStyle(\"Width\", strokeWidth, uiState),\n            opacity: Graph.plotStyle(\"Opacity\", 1, uiState)\n        };\n    }\n\n    static plotStyle(type, multiple, { symbol }) {\n        return function (d) {\n            const value = (d.onState === \"selected\")\n                ? symbol[\"selected\" + type]\n                : (d.onState === \"on\")\n                    ? symbol[\"on\" + type]\n                    : symbol[\"base\" + type];\n            return value\n        }\n    }\n\n    /**\n     * replotメソッドにてデータを要素にバインドし,\n     * データに従って要素の属性を更新してプロットに反映させる.\n     *\n     * プロット要素へのuiイベントを他のグラフと連携するためには,\n     * このメソッドにて, アプリケーションのuiStateがもつdataを\n     * バインドする.\n     * また, プロット要素のclass属性の設定や取得には, それぞれ\n     * Graph.setClass, Graph.extractClassメソッドを用いる.\n     *\n     * @param {uiState} uiState\n     */\n    replot(uiState) {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"replot\")\n    }\n\n\n    createFigure() {\n        d3.select(this.graph + \" .plot\").append(\"h1\");\n        this.svg = d3.select(this.graph + \" .plot\")\n            .append(\"svg\")\n        this.clipRect = this.svg.append(\"defs\")\n            .append(\"clipPath\")\n            .attr(\"id\", this.clipPathId)\n            .append(\"rect\");\n        this.brushArea = this.svg.append(\"g\")\n            .attr(\"class\", \"brushArea\")\n            .attr(\"clip-path\", `url(#${this.clipPathId})`)\n        this.canvas = this.svg.append(\"g\")\n            .attr(\"class\", \"plotArea\")\n            .attr(\"clip-path\", `url(#${this.clipPathId})`)\n\n\n        this.updateSvg();\n        this.updateTitle();\n    }\n\n\n\n    createAxis() {\n        this.updateAxisSize();\n        const size = this.graphGeometry.figureSize\n        const padding = this.graphGeometry.figurePadding\n        const offset = this.graphGeometry.axisOffset\n        const axis = this.graphGeometry.axisSize\n        const svg = this.svg;\n\n        // y軸を登録\n        svg.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .attr(\"transform\", \"translate(\" + (offset.x + padding.left) + \",\" + (size.height - axis.height - offset.y - padding.buttom) + \")\");\n        // y軸ラベルを登録\n        svg.select(\".y.axis\")\n            .append(\"text\")\n            .attr(\"class\", \"ylabel\")\n            .attr(\"transform\", \"rotate (-90,\" + -offset.x + \",\" + axis.height * 0.6 + \")\")\n            .attr(\"x\", -offset.x)\n            .attr(\"y\", axis.height * 0.6)\n            .attr(\"fill\", \"black\")\n            .attr(\"text-anchor\", \"middle\")\n            .text(\"y axis\")\n            .style(\"font-size\", this.ylabel.size);\n\n        // x軸を登録\n        svg.append(\"g\")\n            .attr(\"class\", \"x axis\")\n            .attr(\"transform\", \"translate(\" + (offset.x + padding.left) + \",\" + (size.height - offset.y - padding.buttom) + \")\");\n        // x軸ラベルを登録\n        svg.select(\".x.axis\")\n            .append(\"text\")\n            .attr(\"class\", \"xlabel\")\n            .attr(\"x\", axis.width * 0.4)\n            .attr(\"y\", offset.y * 0.75)\n            .attr(\"fill\", \"black\")\n            .attr(\"text-anchor\", \"middle\")\n            .text(\"x axis\")\n            .style(\"font-size\", this.xlabel.size);\n\n        this.updateAxis();\n    }\n\n    update(state) {\n        this.setPlotStyle(state);\n        this.console = this.getSetting();\n        this.updateState();\n        this.updateXAxis();\n        this.updateYAxis();\n        this.updateExtent(state);\n        this.updateFigureSize();\n        this.updateSvg();\n        this.updateTitle();\n        this.updateAxis();\n        this.replot(state);\n    }\n\n    updateState() { }\n\n    setTitle(text) {\n        d3.select(this.graph).select(\"h1\").text(text);\n    }\n\n    updateTitle() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"updateTitle\")\n    }\n\n    updateSvg() {\n        const size = this.graphGeometry.figureSize\n        const padding = this.graphGeometry.figurePadding\n        const offset = this.graphGeometry.axisOffset\n        const axis = this.graphGeometry.axisSize\n\n        this.svg.attr(\"width\", size.width)\n            .attr(\"height\", size.height);\n        this.canvas.attr(\"transform\", `translate(${padding.left + offset.x},${padding.top})`)\n            .attr(\"width\", axis.width)\n            .attr(\"height\", axis.height)\n            .attr(\"fill\", \"gray\")\n        this.brushArea.attr(\"transform\", `translate(${padding.left + offset.x},${padding.top})`)\n            .attr(\"width\", axis.width)\n            .attr(\"height\", axis.height)\n    }\n\n    /**\n     * 軸ラベルは\n     * インスタンス変数 state.x.name, state.y.name\n     */\n    updateAxis() {\n        this.updateAxisSize();\n        this.updateAxisType();\n\n        const size = this.graphGeometry.figureSize\n        const padding = this.graphGeometry.figurePadding\n        const offset = this.graphGeometry.axisOffset\n        const axis = this.graphGeometry.axisSize\n\n\n        const yAxis = this.svg.select(\"g.y.axis\")\n            .attr(\"transform\", `translate(${offset.x + padding.left},${size.height - axis.height - offset.y - padding.buttom} )`)\n            .call(this.axis.y);\n        yAxis.select(\"path\")//.transition()\n            .attr(\"d\", \"M\" + axis.width + \",0H0V\" + axis.height + \"H\" + axis.width)\n        yAxis.selectAll(\".tick text\")\n            .style(\"font-size\", this.ytick.size)\n\n\n        const xAxis = this.svg.select(\"g.x.axis\")\n            .attr(\"transform\", \"translate(\" + (offset.x + padding.left) + \",\" + (size.height - offset.y - padding.buttom) + \")\")\n            .call(this.axis.x)\n        xAxis.select(\"path\")//.transition()\n            .attr(\"d\", \"M0,-\" + axis.height + \"V0H\" + axis.width + \"V-\" + axis.height)\n        xAxis.selectAll(\".tick text\")\n            .style(\"font-size\", this.xtick.size)\n\n\n        this.svg.select(\"text.ylabel\")\n            .attr(\"transform\", `translate(${-(offset.x - this.ylabel.size) * 0.5},${axis.height * 0.5})rotate (-90,0,0)`)\n            .attr(\"x\", 0)\n            .attr(\"y\", (-40 - this.ylabel.size) * 0.5)\n            .style(\"font-size\", this.ylabel.size)\n            .transition()\n            .text(this.yAxis.label);\n\n        this.svg.select(\"text.xlabel\")\n            .attr(\"x\", axis.width * 0.5)\n            .attr(\"y\", (offset.x + this.xlabel.size) * 0.5)\n            .style(\"font-size\", this.xlabel.size)\n            .transition()\n            .text(this.xAxis.label);\n\n        this.svg.selectAll(\"path.domain\").attr(\"fill\", \"none\");\n    }\n\n    updateAxisSize() {\n        const size = this.graphGeometry.figureSize\n        const padding = this.graphGeometry.figurePadding\n        const offset = this.graphGeometry.axisOffset\n\n        const xlabelLength = this.xAxis.label.length\n\n        const ylabelLength = this.yAxis.label.length\n\n        this.xlabel.size = 24// parseInt(size.width / 20);\n        while (xlabelLength * this.xlabel.size > size.width) {\n            this.xlabel.size -= 1;\n        }\n\n        this.ylabel.size = 24;\n        while (ylabelLength * this.ylabel.size > size.height) {\n            this.ylabel.size -= 1;\n        }\n\n        offset.y = this.ylabel.size + 40;\n        offset.x = this.xlabel.size + 60;\n\n        this.graphGeometry.axisSize = {\n            width: size.width - offset.x - padding.left - padding.right,\n            height: size.height - offset.y - padding.top - padding.buttom\n        }\n        this.clipRect\n            .attr(\"x\", 0)\n            .attr(\"y\", 0)\n            .attr(\"width\", this.graphGeometry.axisSize.width)\n            .attr(\"height\", this.graphGeometry.axisSize.height)\n\n    }\n\n    updateFigureSize() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"updateFigureSize\")\n    }\n\n    updateAxisType() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"updateAxisType\")\n    }\n\n    /**\n     * 連携する GraphManagerがtemplateメソッドで生成したHTMLのうち\n     * input[type=checkbox, text, number, range], select要素の\n     * idとvalueまたはcheckedを読み取る.\n     *\n     * インスタンス変数stateにidをkeyとしてvalueまたはcheckedを格納する.\n     *\n     * 設定をもとにインスタンス変数の状態を変更するためには,\n     * このメソッドを継承した上で処理を追加する.\n     *\n     * @return {Object<string,number|string|boolean>}\n    */\n    getSetting() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"getSetting\")\n    }\n\n\n    /**\n     * グラフの軸ラベルを設定するには, state.x, state.yについて\n     * nameを設定する必要がある.\n     */\n    updateXAxis() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"updateXAxis\")\n    }\n\n    updateYAxis() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"updateYAxis\")\n    }\n\n    updateExtent({ data }) {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"updateExtent\")\n    }\n}\n\n/**\n * GraphManagerの作り方\n *\n * GraphManagerを継承する\n *\n * コンストラクタで次のインスタンス変数を定義する\n *\n * * {String} label: グラフ追加ボタンの表示テキスト\n * * {String} type: 他のGrpahManagerとかぶらない一意なテキスト\n * * {Graph} Graph: プロットを担うGraphクラス\n *\n * 次のインスタンスメソッドを定義する\n *\n * * {void -> String} style:\n *      プロット設定メニューの表示位置とサイズを定義\n * * {uiState -> String} template:\n *      プロット設定メニューのHTMLを定義\n *      input, select属性が読み取られ, 連携するGraphクラスの\n *      インスタンス変数 stateに格納される.\n *      state = {\n *        [key = id of DOM] : [value = value or checked\n *                              attribute of the DOM]\n *      }\n */\nclass GraphManager {\n    constructor(uiState) {\n        this.graphCount = 0;\n        this.label = \"\";\n        this.type = \"\";\n        this.instance = {};\n        this.uiState = uiState;\n    }\n\n    replot() {\n        Object.values(this.instance).forEach(g => {\n            g.update(this.uiState);\n        })\n    }\n\n    incrementCounter() {\n        this.graphCount++;\n    }\n\n\n    getCount() {\n        return this.graphCount;\n    }\n\n    buttonLabel() {\n        return this.label;\n    }\n\n    graphType() {\n        return this.type;\n    }\n\n    getTemplate() {\n        return this.template(this.uiState);\n    }\n\n    getStyle() {\n        return this.style();\n    }\n\n    append(graphId, settingId, tooltip, id) {\n        this.instance[id] = new this.Graph(graphId, settingId, tooltip);\n        this.instance[id].initialize(this.uiState)\n    }\n\n    remove(id) {\n        this.instance[id] = null;\n    }\n\n    update(id) {\n        this.instance[id].update(this.uiState);\n    }\n\n    style() {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"style\")\n    }\n\n    template(uiState) {\n        throw new _error_not_implemented_error__WEBPACK_IMPORTED_MODULE_3__[\"default\"](\"template\")\n    }\n};\n\n\n//# sourceURL=webpack:///./src/js/GraphClass.js?");

/***/ }),

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _top_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./top-menu */ \"./src/js/top-menu.js\");\n/* harmony import */ var _menu_file_load__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-file-load */ \"./src/js/menu-file-load.js\");\n/* harmony import */ var _menu_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menu-tooltip */ \"./src/js/menu-tooltip.js\");\n/* harmony import */ var _menu_symbol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./menu-symbol */ \"./src/js/menu-symbol.js\");\n/* harmony import */ var _menu_legend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./menu-legend */ \"./src/js/menu-legend.js\");\n/* harmony import */ var _graph_appender__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./graph-appender */ \"./src/js/graph-appender.js\");\n/* harmony import */ var _Graph_binary_plot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Graph-binary-plot */ \"./src/js/Graph-binary-plot.js\");\n/* harmony import */ var _Graph_abundance_plot__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Graph-abundance-plot */ \"./src/js/Graph-abundance-plot.js\");\n/* harmony import */ var _graph_btn_setting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./graph-btn-setting */ \"./src/js/graph-btn-setting.js\");\n/* harmony import */ var _graph_btn_delete__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./graph-btn-delete */ \"./src/js/graph-btn-delete.js\");\n/* harmony import */ var _graph_btn_save_as_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./graph-btn-save_as_png */ \"./src/js/graph-btn-save_as_png.js\");\n/* harmony import */ var _graph_btn_refresh__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./graph-btn-refresh */ \"./src/js/graph-btn-refresh.js\");\n/* harmony import */ var _ui_updater__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ui-updater */ \"./src/js/ui-updater.js\");\n/* harmony import */ var _overlay__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./overlay */ \"./src/js/overlay.js\");\n/* harmony import */ var _tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./tooltip */ \"./src/js/tooltip.js\");\n/* harmony import */ var ast_src_arithmetic_concat_string_ast__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ast/src/arithmetic/concat_string/ast */ \"../ast/src/arithmetic/concat_string/ast.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass StringAST extends ast_src_arithmetic_concat_string_ast__WEBPACK_IMPORTED_MODULE_15__[\"default\"] {\n    constructor(...arg) {\n        super(...arg)\n    }\n\n    evaluate(...arg) {\n        try {\n            return super.evaluate(...arg)\n        } catch (e) {\n            if (e instanceof TypeError) return \"\"\n        }\n    }\n}\n\n\n\nconst initializer = {\n\n    'legend': {\n        'userStyleURL': './data/legend_region.json',\n        'commonStyleURL': './css/graph_common.css'\n    },\n    'userDataSetting': {\n        'useDefault': true,\n        'url': './data/lava_compositions.csv'\n    },\n    'referranceDataSetting': {\n        'useDefault': true,\n        'url': './data/Refferencial_abundance.csv'\n    }\n}\n\nconst autoMode = {\n    'menu': {\n        'symbol': [\n            {\n                'id': 'outOpacity',\n                'min': 0,\n                'max': 1,\n                'step': 0.1,\n                'value': 0.1\n            },\n            {\n                'id': 'baseOpacity',\n                'min': 0,\n                'max': 1,\n                'step': 0.1,\n                'value': 0.8\n            },\n            {\n                'id': 'onOpacity',\n                'min': 0,\n                'max': 1,\n                'step': 0.1,\n                'value': 1\n            },\n            {\n                'id': 'outRadius',\n                'min': 1,\n                'max': 12,\n                'step': 0.5,\n                'value': 6\n            },\n            {\n                'id': 'baseRadius',\n                'min': 1,\n                'max': 12,\n                'step': 0.5,\n                'value': 6\n            },\n            {\n                'id': 'onRadius',\n                'min': 1,\n                'max': 12,\n                'step': 0.5,\n                'value': 9\n            },\n            {\n                'id': 'outWidth',\n                'min': 0,\n                'max': 3,\n                'step': 0.05,\n                'value': 0.25\n            },\n            {\n                'id': 'baseWidth',\n                'min': 0,\n                'max': 3,\n                'step': 0.05,\n                'value': 1\n            },\n            {\n                'id': 'onWidth',\n                'min': 0,\n                'max': 3,\n                'step': 0.05,\n                'value': 3\n            }\n        ]\n    },\n    'plot': [\n        {\n            'type': 'binary',\n            'inputList': [\n                { 'id': 'xName', 'type': 'value', 'value': 'SiO2' },\n                { 'id': 'yName', 'type': 'value', 'value': 'MgO' },\n                { 'id': 'x_min', 'type': 'value', 'value': null },\n                { 'id': 'x_max', 'type': 'value', 'value': null },\n                { 'id': 'y_min', 'type': 'value', 'value': null },\n                { 'id': 'y_max', 'type': 'value', 'value': null },\n                { 'id': 'checkLogX', 'type': 'checked', 'value': false },\n                { 'id': 'checkLogY', 'type': 'checked', 'value': false },\n                { 'id': 'imageSize', 'type': 'value', 'value': 0.3 },\n                { 'id': 'aspect', 'type': 'value', 'value': 0.8 }\n            ]\n        },\n        {\n            'type': 'abundance',\n            'inputList': [\n                { 'id': 'eleName', 'type': 'value', 'value': 'La Ce Pr Nd Sm Eu Gd Tb Dy Ho Er Tm Yb Lu' },\n                { 'id': 'reserver', 'type': 'value', 'value': 'PM,Sun&McDonough-1989' },\n                { 'id': 'y_min', 'type': 'value', 'value': 0.01 },\n                { 'id': 'y_max', 'type': 'value', 'value': 1000 },\n                { 'id': 'imageSize', 'type': 'value', 'value': 0.7 },\n                { 'id': 'aspect', 'type': 'value', 'value': 0.8 }\n            ]\n\n        }\n    ]\n\n}\n\nconst state = {\n    data: [\n        { x: 1, y: 2, dummy: 1, study: \"mine\" },\n        { x: 0, y: -1, dummy: 1 },\n        { x: 2, y: 10, dummy: 1 },\n        { y: 0, z: 11, dummy: 1 },\n        { y: 1, z: 3, dummy: 1 }\n    ],\n    symbol: {\n        baseOpacity: 0.7,\n        baseRadius: 4,\n        baseWidth: 1,\n        onOpacity: 0.9,\n        onRadius: 5,\n        onWidth: 3,\n        selectedOpacity: 1,\n        selectedRadius: 6,\n        selectedWidth: 5,\n        outOpacity: 0.3,\n        outRadius: 2,\n        outWidth: 0.25,\n    },\n    styleClass: \"\",\n    optionalClasses: [\"study\"],\n    dataStack: [],\n    tooltipAST: new StringAST()\n}\n\nconst emitter = new _ui_updater__WEBPACK_IMPORTED_MODULE_12__[\"default\"]()\nconst settingOverlay = new _overlay__WEBPACK_IMPORTED_MODULE_13__[\"default\"](\"#setting_overlay\")\nconst topMenu = new _top_menu__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"fixed-menu-contents\", settingOverlay, emitter, state)\nconst tooltip = new _tooltip__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"#graph_area\")\nconst ga = new _graph_appender__WEBPACK_IMPORTED_MODULE_5__[\"default\"](\"graph_area\", \"setting_menu\", settingOverlay, tooltip, emitter, state);\n\n\n\n/*\n  ここで明示的にemitterにactionを登録スべきか,\n  menuアイテムなどを読み込むときに自動的にactionがセットされるようにしたほうがいいか.\n*/\n\nwindow.onresize = () => {\n    emitter.replot();\n    emitter.afterReplot();\n}\n\nwindow.onload = () => {\n\n    let url = './css/graph_common.css'\n\n    fetch(url).then(function (data) {\n        return data.text();\n    }).then(function (text) {\n        document.querySelector(\"#graph_style\").innerHTML = (text);\n    });\n\n    $('#graph_area').sortable({\n        cursor: \"move\",\n        opacity: 0.7,\n        handle: \"h1\"\n    });\n\n    topMenu.register(\n        _menu_file_load__WEBPACK_IMPORTED_MODULE_1__,\n        _menu_tooltip__WEBPACK_IMPORTED_MODULE_2__,\n        _menu_symbol__WEBPACK_IMPORTED_MODULE_3__,\n        _menu_legend__WEBPACK_IMPORTED_MODULE_4__,\n    );\n\n    ga.registerBtns(\n        _graph_btn_setting__WEBPACK_IMPORTED_MODULE_8__,\n        _graph_btn_refresh__WEBPACK_IMPORTED_MODULE_11__,\n        _graph_btn_save_as_png__WEBPACK_IMPORTED_MODULE_10__,\n        _graph_btn_delete__WEBPACK_IMPORTED_MODULE_9__\n    )\n        .registerGraphManager(\n            _Graph_binary_plot__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n            _Graph_abundance_plot__WEBPACK_IMPORTED_MODULE_7__[\"default\"]\n        );\n\n}\n\n/*\nwindow.onbeforeunload = function (e) {\n  return \"Unload ?\";\n};\n*/\n\n\n//# sourceURL=webpack:///./src/js/app.js?");

/***/ }),

/***/ "./src/js/entity/graph_axis_info.js":
/*!******************************************!*\
  !*** ./src/js/entity/graph_axis_info.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GraphAxisInfo; });\nclass GraphAxisInfo {\n    /**\n     * @param {sring} label\n     * @param {number} min\n     * @param {number} max\n     * @param {\"linear\" | \"log\"}\n     */\n    constructor(label, min, max, scaleType) {\n        this._label = label\n        this._min = min\n        this._max = max\n        this._scaleType = scaleType\n    }\n\n    get label() { return this._label }\n    get min() { return this._min }\n    get max() { return this._max }\n    get scaleType() { return this._scaleType }\n    set label(s) { this._label = s }\n    set min(n) { this._min = n }\n    set max(n) { this._max = n }\n    set scaleType(s) { this._scaleType = s }\n\n    setRange(_min, _max) {\n        this.min = _min\n        this.max = _max\n    }\n\n    getRange() { return [this.min, this.max] }\n    isLinear() { return this._scaleType === \"linear\" }\n    isLog() { return this._scaleType === \"log\" }\n}\n\n\n//# sourceURL=webpack:///./src/js/entity/graph_axis_info.js?");

/***/ }),

/***/ "./src/js/entity/graph_geometry.js":
/*!*****************************************!*\
  !*** ./src/js/entity/graph_geometry.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GraphGeometry; });\n/* harmony import */ var _validation_require_property__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../validation/require_property */ \"./src/js/validation/require_property.js\");\n/* harmony import */ var _validation_is_defined__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../validation/is_defined */ \"./src/js/validation/is_defined.js\");\n\n\n\nfunction checkSizeValidity(sizeDict) {\n    Object(_validation_require_property__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(sizeDict, \"width\")\n    Object(_validation_require_property__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(sizeDict, \"height\")\n    return sizeDict\n}\n\n\nclass GraphGeometry {\n    constructor({ figureSize, figurePadding, axisOffset, axisSize } = {}) {\n        Object(_validation_is_defined__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(figureSize)\n        Object(_validation_is_defined__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(figurePadding)\n        Object(_validation_is_defined__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(axisOffset)\n        Object(_validation_is_defined__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(axisSize)\n\n        this._figureSize = figureSize\n        this._figurePadding = figurePadding\n        this._axisOffset = axisOffset\n        this._axisSize = axisSize\n    }\n\n    get figureSize() { return this._figureSize }\n    set figureSize(size) { this._figureSize = checkSizeValidity(size); }\n    get figurePadding() { return this._figurePadding }\n    get axisOffset() { return this._axisOffset }\n    get axisSize() { return this._axisSize }\n    set axisSize(size) { this._axisSize = checkSizeValidity(size); }\n}\n\n\n//# sourceURL=webpack:///./src/js/entity/graph_geometry.js?");

/***/ }),

/***/ "./src/js/entity/text_style.js":
/*!*************************************!*\
  !*** ./src/js/entity/text_style.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextStyle; });\nclass TextStyle {\n    constructor({ family = \"san-serif\", style = \"normal\", size = \"16\", color = \"black\" } = {}) {\n        this._family = family\n        this._style = style\n        this._size = size\n        this._color = color\n    }\n\n    get family() { return this._family }\n    set family(fontFamily) { this._family = fontFamily }\n    get style() { return this._style }\n    set style(fontStyle) { this._style = fontStyle }\n    get size() { return this._size }\n    set size(fontSize) { this._size = fontSize }\n    get color() { return this._color }\n    set color(fontColor) { this._color = fontColor }\n}\n\n\n//# sourceURL=webpack:///./src/js/entity/text_style.js?");

/***/ }),

/***/ "./src/js/error/not_implemented_error.js":
/*!***********************************************!*\
  !*** ./src/js/error/not_implemented_error.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NotImplementedError; });\nclass NotImplementedError extends Error {\n    constructor(method) {\n        super(`NotImplementedError: ${method} must be implemented.`)\n        this.name = \"NotImplementedError\"\n    }\n}\n\n\n//# sourceURL=webpack:///./src/js/error/not_implemented_error.js?");

/***/ }),

/***/ "./src/js/error/undefined_property_error.js":
/*!**************************************************!*\
  !*** ./src/js/error/undefined_property_error.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UndefinedPropertyError; });\nclass UndefinedPropertyError extends Error {\n    constructor(required_key_name) {\n        super(`UndefiendPropertyError: ${required_key_name} is required.`)\n        this.name = \"UndefinedPropertyError\"\n    }\n}\n\n\n//# sourceURL=webpack:///./src/js/error/undefined_property_error.js?");

/***/ }),

/***/ "./src/js/graph-appender.js":
/*!**********************************!*\
  !*** ./src/js/graph-appender.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GraphAppender; });\n/* harmony import */ var _pub_sub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pub-sub */ \"./src/js/pub-sub.js\");\n/* harmony import */ var _usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usecases/toggle_active_state */ \"./src/js/usecases/toggle_active_state.js\");\n\n\n\nclass GraphAppender {\n    constructor(graphAreaId, graphMenuContentsId, overlay, tooltip, eventEmitter, uiState) {\n        this.exportToEventEmitter(eventEmitter);\n        this.emitter = eventEmitter;\n        this.tooltip = tooltip;\n        this.uiState = uiState;\n        this.graphMenuBtns = [];\n        this.graphAreaId = graphAreaId;\n        this.graphMenuContentsId = graphMenuContentsId;\n        this.graphManager = {};\n        this.initialize();\n\n        overlay.addClickEventListener(() => {\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-all-graph-settings\" })\n        })\n        return this;\n    }\n\n    exportToEventEmitter(emitter) {\n        emitter.registerAction({ type: \"replot\", action: GraphAppender.replotAll(this) })\n    }\n\n    initialize() {\n        this.setGraphAppendButtonArea();\n        return this;\n    }\n\n    setGraphAppendButtonArea() {\n        const div = document.createElement(\"div\");\n        div.id = \"graphAppender\";\n        div.innerHTML = `\n      <form class=\"graphAppender\" id=\"graphAppend_button\"></form>\n      `\n        document.querySelector(\"#\" + this.graphAreaId).appendChild(div);\n        this.dom = document.querySelector(\"#graphAppend_button\");\n    }\n\n\n\n\n\n    registerBtns(...graphMenuBtns) {\n        this.graphMenuBtns = graphMenuBtns;\n        document.querySelector(\"body\").appendChild(\n            (_ => {\n                const style = document.createElement(\"style\")\n                style.innerHTML = this.graphMenuBtns.map(({ style }) => style)\n                    .reduce((a, b) => a + \"\\n\" + b, \"\");\n                style.id = \"graph-menu-btn-style\";\n                return style;\n            })()\n        )\n        return this;\n    }\n\n\n    /**\n     * Graphタイプを追加すると,\n     * 1. 追加ボタンを登録\n     * 2. 各Graphクラスへのグラフの登録やstate更新をラップする\n     */\n    registerGraphManager(...GraphManager) {\n        GraphManager.forEach(G => {\n            const g = new G(this.uiState);\n            this.setGraphAppendButton({\n                label: g.buttonLabel(),\n                type: g.graphType()\n            });\n            this.graphManager[g.graphType()] = g;\n        })\n        return this;\n    }\n\n    setGraphAppendButton({ label, type }) {\n        const appendBtn = document.createElement(\"input\");\n        appendBtn.id = `append${type}`;\n        appendBtn.classList.add(\"button\", \"graphAppender\");\n        appendBtn.type = \"button\";\n        appendBtn.value = `+ ${label}`;\n        appendBtn.addEventListener(\n            \"click\",\n            ev => this.appendGraph(type),\n            false\n        )\n        this.dom.appendChild(appendBtn);\n    }\n\n    appendGraph(type) {\n        const G = this.graphManager[type];\n        const id = G.getCount();\n        this.appendGraphSetting(G);\n        this.appendGraphArea(G);\n        G.append(\n            this.getTypeId(\"graph\", type, id),\n            this.getTypeId(\"setting\", type, id),\n            this.tooltip,\n            id\n        )\n        this.emitter.afterReplot();\n        G.incrementCounter();\n    }\n\n    appendGraphSetting(G) {\n        const emitter = this.emitter;\n        const type = G.graphType();\n        const id = G.getCount()\n        const settingId = this.getTypeId(\"setting\", type, id);\n\n        const setting = document.createElement(\"div\");\n        setting.classList.add(\"graph-setting\");\n        setting.innerHTML = G.getTemplate(this.uiState);\n        setting.id = settingId;\n        setting.setAttribute(\"style\", G.getStyle());\n        setting.addEventListener(\n            \"change\",\n            ev => {\n                G.update(id)\n                emitter.afterReplot();\n            },\n            false\n        )\n        document.querySelector(\"#\" + this.graphMenuContentsId)\n            .appendChild(setting);\n\n        GraphAppender.setOpenClose(\n            setting,\n        );\n\n        Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"activate\"])(setting)\n        _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"show-overlay\" })\n        setting.querySelector(\"input\").focus();\n    }\n\n    /**\n     * div#${graphAreaId}\n     *  \\-div#graph-${type}_${id}.graph\n     *    \\-div#nav-${type}_${id}\n     *      \\-ul\n     *        \\-li\n     *          \\-a#nav_save-${type}-${id}.nav_save\n     *        \\-li\n     *          \\-a#nav_setting-${type}-${id}.nav_setting\n     *    \\-div#plot-${type}_${id}.plot\n     *      \\-h1\n     *      \\-svg\n     * @param {*} G\n     */\n    appendGraphArea(G) {\n        const type = G.graphType();\n        const id = G.getCount();\n        const graphArea = d3.select(\"#\" + this.graphAreaId);\n\n        const graph = graphArea.insert(\"div\", \"#graphAppender\")\n            .attr(\"class\", \"graph\")\n            .attr(\"id\", this.getTypeId(\"graph\", type, id))\n\n        const graphMenu = graph.append(\"div\");\n        graphMenu.attr(\"id\", this.getTypeId(\"nav\", type, id))\n            .append(\"ul\")\n            .attr(\"style\", this.menuBtnStyle);\n\n        const graphBtns = graphMenu.select(\"ul\")\n            .selectAll(\"li\")\n            .data(this.graphMenuBtns)\n            .enter()\n            .append(\"li\")\n            .append(\"a\")\n            .attr(\"id\", d => this.getTypeId(d.btnName, type, id))\n            .attr(\"class\", d => d.btnName)\n            .on(\"click\", d => d.click(\n                \"#\" + this.getTypeId(\"graph\", type, id),\n                \"#\" + this.getTypeId(\"setting\", type, id),\n                \"#\" + this.overlayId,\n                id,\n                G\n            ));\n\n        const plot = graph.append(\"div\")\n            .attr(\"id\", this.getTypeId(\"plot\", type, id))\n            .attr(\"class\", \"plot\")\n\n        $(`#${this.getTypeId(\"graph\", type, id)}`).addClass(\"active\");\n    }\n\n    getTypeId(prefix, type, id) {\n        return `${prefix}-${type}_${id}`;\n    }\n\n\n    static replotAll(graphAppender) {\n        return _ => {\n            Object.values(graphAppender.graphManager).forEach(G => {\n                G.replot();\n            })\n        }\n    }\n\n    /**\n     *\n     * @param {HTMLElement} btn\n     * @param {HTMLElement} content\n     */\n    static setOpenClose(content) {\n        _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subscriber().subscribe(\"hide-all-graph-settings\", () => {\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"deactivate\"])(content)\n            const activeGraph = document.querySelector(\".graph.active\")\n            if (activeGraph) activeGraph.classList.remove(\"active\")\n        })\n\n        content.querySelector(\".close_button\").addEventListener(\"click\", () => {\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-all-graph-settings\" })\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-overlay\" })\n        })\n\n    }\n\n};\n\n\n//# sourceURL=webpack:///./src/js/graph-appender.js?");

/***/ }),

/***/ "./src/js/graph-btn-delete.js":
/*!************************************!*\
  !*** ./src/js/graph-btn-delete.js ***!
  \************************************/
/*! exports provided: btnName, style, click */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"btnName\", function() { return btnName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"click\", function() { return click; });\nconst btnName = \"nav_delete\";\n\nconst style = `\na.nav_delete::before{\n  content:url(./image/ic_delete_sweep_black_24px.svg);\n  position: relative;\n\n}\n\na.nav_delete:hover::before,\na.nav_delete:focus::before{\n  transition: all .3s;\n  content:url(./image/ic_delete_sweep_black_24px_hover.svg);\n}\n`\n\nfunction click(graph, setting, _, id, GraphManager) {\n    $(graph).remove();\n    $(setting).remove();\n    GraphManager.remove(id);\n}\n\n\n//# sourceURL=webpack:///./src/js/graph-btn-delete.js?");

/***/ }),

/***/ "./src/js/graph-btn-refresh.js":
/*!*************************************!*\
  !*** ./src/js/graph-btn-refresh.js ***!
  \*************************************/
/*! exports provided: btnName, style, click */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"btnName\", function() { return btnName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"click\", function() { return click; });\nconst btnName = \"nav_refresh\";\n\nconst style = `\na.${btnName}::before{\n  content:url(./image/sync-alt-solid.svg);\n  position: relative;\n}\n\na.${btnName}:hover::before,\na.${btnName}:focus::before{\n  transition: all .3s;\n  content:url(./image/sync-alt-solid_hover.svg);\n}\n`\n\nfunction click(graph, setting, _, id, GraphManager) {\n    GraphManager.update(id);\n}\n\n\n//# sourceURL=webpack:///./src/js/graph-btn-refresh.js?");

/***/ }),

/***/ "./src/js/graph-btn-save_as_png.js":
/*!*****************************************!*\
  !*** ./src/js/graph-btn-save_as_png.js ***!
  \*****************************************/
/*! exports provided: btnName, style, click */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"btnName\", function() { return btnName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"click\", function() { return click; });\nconst btnName = \"nav_save\";\n\nconst style = `\na.nav_save::before{\n  content:url(./image/ic_file_download_24px.svg);\n  position: relative;\n\n}\n\na.nav_save:hover::before,\na.nav_save:focus::before{\n  transition: all .3s;\n  content:url(./image/ic_file_download_24px_hover.svg);\n}\n`\n\nfunction click(graph, setting, __) {\n    const svg = d3.select(graph).select(\"svg\")\n    const style = [\"graph_style\", \"legendStyle\"]\n        .map(id => {\n            try {\n                return document.querySelector(\"#\" + id).innerHTML\n            } catch (e) {\n                return \"\";\n            }\n        })\n        .reduce((a, b) => a + b, \"\");\n    svg.insert(\"style\", \"g\")\n        .attr(\"type\", \"text/css\")\n        .text(style);\n    const svgDOM = svg._groups[0][0];\n\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = svgDOM.width.baseVal.value;\n    canvas.height = svgDOM.height.baseVal.value;\n    const svgData = new XMLSerializer().serializeToString(svgDOM);\n\n    const ctx = canvas.getContext(\"2d\");\n    ctx.rect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = \"white\";\n    ctx.fill();\n\n    const image = new Image;\n    image.onload = function () {\n        ctx.drawImage(image, 0, 0);\n        // Optional: 自動でダウンロードさせる場合\n        try {\n            var xName = d3.select(graph).select(\"text.xlabel\").text();\n        } catch (e) {\n            var xName = \"x\";\n        }\n\n        try {\n            var yName = d3.select(graph).select(\"text.ylabel\").text();\n        } catch (e) {\n            var yName = \"y\";\n        }\n\n        xName = xName.replace(/\\//g, \"_\")\n            .replace(/#/g, \"N\")\n            .replace(/[\\s\\:\\*\\\"\\'\\<\\>\\?\\|\\\\]/g, \"\"); //\"\n        yName = yName.replace(/\\//g, \"_\")\n            .replace(/#/g, \"N\")\n            .replace(/[\\s\\:\\*\\\"\\'\\<\\>\\?\\|\\\\]/g, \"\"); //\"\n\n        d3.select(\"body\").append(\"a\")\n            .attr(\"id\", \"image-file\")\n            .attr(\"class\", \"hidden\")\n            .attr(\"type\", \"application/octet-stream\")\n            .attr(\"href\", canvas.toDataURL(\"image/png\"))\n            .attr(\"download\", xName + \"-vs-\" + yName + \".png\")\n            .text(\"Download as Image\")\n\n        $(\"#image-file\")[0].click();\n\n        $(\"canvas\").remove();\n        $(\"#image-file\").remove();\n\n        svg.selectAll(\"style\").remove();\n    }\n\n    image.src = \"data:image/svg+xml;charset=utf-8;base64,\" + btoa(unescape(encodeURIComponent(svgData)));\n\n}\n\n\n//# sourceURL=webpack:///./src/js/graph-btn-save_as_png.js?");

/***/ }),

/***/ "./src/js/graph-btn-setting.js":
/*!*************************************!*\
  !*** ./src/js/graph-btn-setting.js ***!
  \*************************************/
/*! exports provided: btnName, style, click */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"btnName\", function() { return btnName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"click\", function() { return click; });\n/* harmony import */ var _pub_sub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pub-sub */ \"./src/js/pub-sub.js\");\n/* harmony import */ var _usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usecases/toggle_active_state */ \"./src/js/usecases/toggle_active_state.js\");\n\n\nconst btnName = \"nav_setting\";\n\nconst style = `\na.nav_setting::before{\n  content:url(./image/ic_settings_black_24px.svg);\n  position: relative;\n  stroke : #eeeeee;\n}\n\na.nav_setting:hover::before,\na.nav_setting:focus::before{\n  transition: all .3s;\n  content:url(./image/ic_settings_black_24px_hover.svg);\n}\n`\n\nfunction click(graph, setting) {\n    Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"activate\"])(document.querySelector(graph))\n    _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"show-overlay\" })\n    Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"activate\"])(document.querySelector(setting))\n    $(`${setting} input`)[0].focus();\n}\n\n\n//# sourceURL=webpack:///./src/js/graph-btn-setting.js?");

/***/ }),

/***/ "./src/js/lib/funcTools.js":
/*!*********************************!*\
  !*** ./src/js/lib/funcTools.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\nconst Y = f => {\n    return (\n        x => f(y => x(x)(y))\n    )(\n        x => f(y => x(x)(y))\n    )\n}\n\nconst recursive = base => a => n => base(n, a);\n\nconst recursiveExtender = custom => templateFunc => f => templateFunc(custom(f));\n\n\nconst memoize = cache => f => {\n    return arg => {\n        if (!(arg in cache)) {\n\n            cache[arg] = f(arg);\n        }\n        return cache[arg];\n    }\n};\n\nconst trace = f => arg => {\n    console.log(`called with argument ${arg}`);\n    return f(arg)\n};\n\nconst compose = (...fs) => x => fs.reduceRight((acc, f) => f(acc), x);\nconst pip = (...fs) => x => fs.reduce((acc, f) => f(acc), x);\n\nconst G = {\n    take: n => function* (g) {\n        for (let i = 0; i < n; i++) {\n            let x = g.next();\n            if (x.done) return;\n            yield x.value;\n        }\n    },\n\n    nest: f => function* (x) {\n        let y = x;\n        while (true) {\n            yield y;\n            y = f(y);\n        }\n    }\n};\n\n\n\n\nconst take = n => [...Array(n)]\n\nconst fold = f => x => (acc, e) => acc.length === 0 ? [f(x, e)] : [...acc, f(acc[acc.length - 1], e)];\n\nconst range = (ini, fin, step = 1) => [...Array(Math.ceil((fin - ini) / step))].map((_, i) => ini + step * i);\n\nconst spread = (...objs) => [...objs].reduce((a, b) => Object.assign(a, b), {});\n\nconst transduce = (compose => {\n    const mapping = f => reducer => (acc, e) => reducer(acc, f(e));\n    const filtering = f => reducer => (acc, e) =>\n        !f(e)\n            ? acc\n            : reducer(acc, e);\n    const folding = f => x => reducer => (acc, e) =>\n        acc.length === 0\n            ? reducer(acc, f(x, e))\n            : reducer(acc, f(acc[acc.length - 1], e));\n    const taking = n => reducer => (acc, e) =>\n        acc.length < n\n            ? reducer(acc, e)\n            : reducer(acc, undefined);\n    const concatReducer = (acc, e) =>\n        e || e === 0\n            ? [...acc, e]\n            : [...acc];\n\n    const _intoArray = ts => xs => xs.reduce(ts(concatReducer), []);\n    const intoArray = (...fs) => xs => xs.reduce(compose(...fs)(concatReducer), []);\n\n\n    return {\n        mapping,\n        filtering,\n        folding,\n        taking,\n        intoArray,\n        _intoArray\n    }\n})(compose)\n\nconst statefullTransducer = (({ mapping, filtering }, compose) => {\n    const indexing = ini => mapping(e => [ini++, e])\n\n    const slicing = (m, n) => compose(\n        indexing(0),\n        filtering(([i, e]) => m <= i && i < n),\n        mapping(([i, e]) => e)\n    );\n\n    return {\n        indexing,\n        slicing\n    }\n})(transduce, compose)\n\n\nconst zipWith = f => xs => ys =>\n    xs.length < ys.length ? xs.map((e, i) => f(e, ys[i])) : ys.map((e, i) => f(xs[i], e));\n\nconst zip = xs => ys =>\n    xs.length < ys.length ? xs.map((e, i) => [e, ys[i]]) : ys.map((e, i) => [xs[i], e]);\n\nconst zips = (...arr) =>\n    transduce._intoArray(\n        transduce.mapping(i => arr.map(a => a[i]))\n    )(range(0, Math.min(...arr.map(a => a.length))));\n\nconst Dataframe = (({\n    intoArray, mapping, _intoArray\n}, zips, spread) => {\n\n    const toDataframe = entries => {\n        //console.log(entries);\n        const keys = Object.keys(entries[0]);\n        return spread(...keys.map(k => ({ [k]: _intoArray(mapping(e => e[k]))(entries) })))\n    }\n\n    const toEntries = df => {\n        const keys = Object.keys(df);\n        return _intoArray(\n            mapping(\n                values => _intoArray(\n                    mapping(([k, v]) => ({ [k]: v }))\n                )(zips(keys, values))\n                    .reduce((a, b) => Object.assign(a, b), {})\n            )\n        )(zips(...Object.values(df)))\n    }\n\n\n    const _intoDataframe = ts => df => toDataframe(\n        _intoArray(ts)(toEntries(df))\n    )\n\n    const intoDataframe = (...fs) => df => toDataframe(\n        intoArray(...fs)(toEntries(df))\n    )\n\n    const mapEntries = f => mapping(e => Object.assign(e, f(e)))\n\n    const table = df => console.table(toEntries(df))\n    return {\n        toDataframe,\n        intoDataframe,\n        _intoDataframe,\n        mapEntries,\n        toEntries,\n        table\n    }\n})(transduce, zips, spread);\n\n\n\nconst tee = f => a => {\n    f(a);\n    return a;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    Y,\n    recursive,\n    recursiveExtender,\n    memoize,\n    trace,\n    compose,\n    pip,\n    G,\n    zipWith,\n    zip,\n    zips,\n    fold,\n    range,\n    spread,\n    take,\n    transduce,\n    statefullTransducer,\n    Dataframe,\n    tee\n});\n\n\n//# sourceURL=webpack:///./src/js/lib/funcTools.js?");

/***/ }),

/***/ "./src/js/lib/textParser_esm.js":
/*!**************************************!*\
  !*** ./src/js/lib/textParser_esm.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextParser; });\n\nconst getDelimiter = fileType => {\n    switch (fileType) {\n        case \"csv\":\n            return \",\"\n            break;\n        case \"tsv\":\n            return \"\\t\"\n            break;\n        default:\n            return \" \"\n            break;\n    }\n}\n\n/*\nconst fs = (typeof require !== \"undefined\")\n  ? require(\"fs\")\n  : null;\n*/\n\nclass TextParser {\n    constructor() { }\n\n    /* text2Object\n         prop0 , prop1 , prop2 , ...\n         v00, v01, v02, ...\n         v10, v11, V12, ...\n  \n         ->\n  \n         [\n           {key:0,value:{\n             prop0: v00,\n             prop1: v01,\n             ...\n           }},\n           {key:1,value:{\n             prop0: v10,\n             prop1: v11,\n             ...\n           }},\n           ...\n         ]\n       */\n    static text2Object(content, fileType) {\n        //>> tsvファイルから配列を作成(tsvObj)\n        var obj = new Array();\n\n        if (content.match(/\\r/)) var raw = content.split(\"\\r\\n\");\n        else raw = content.split(\"\\n\");\n\n        if (fileType == 'tsv') var delimiter = '\\t';\n        else if (fileType == 'csv') delimiter = ',';\n        else delimiter = ' ';\n\n        var rawNum = raw.length;\n        var key = raw[0].replace(/\"/g, '').split(delimiter);\n        var columnNum = key.length;\n\n        //console.log(key);\n\n        for (let i = 1; i < rawNum; i++) {\n            let column = raw[i].replace(/\"/g, '').split(delimiter);\n            if (column.length < columnNum) break;\n            obj.push({ \"key\": i - 1, \"value\": Object() });\n            for (var j = 0; j < columnNum; j++) {\n                obj[i - 1][\"value\"][key[j]] = column[j];\n            };\n        };\n\n        return obj;\n    }\n\n\n    /* csv2Json\n      prop , subprop1 , subprop2 , ...\n      prop1, subprop11, subprop22, ...\n      prop2, subprop21, subprop22, ...\n  \n      to (primaryKey = \"prop\")\n  \n      {\n        prop1:{\n          subprop1:subprop11,\n          subprop2:subprop22,\n          ...\n        },\n        prop2:{\n          subprop1: subprop21,\n          subprop2: subprop22,\n          ...\n        },\n        ...\n      }\n    */\n    static csv2Json(content, primaryKey = null, separator = \",\") {\n        let obj = {}\n\n        const row = (content.match(/\\r/)) ?\n            content.split(\"\\r\\n\") : content.split(\"\\n\");\n\n        const rowNum = row.length;\n        const key = row[0].replace(/\"/g, '').split(separator);\n        const columnNum = key.length;\n\n        const pK = (key.indexOf(primaryKey) > -1) ? key.indexOf(primaryKey) : 0;\n\n        for (let i = 1; i < rowNum; i++) {\n\n\n            column = row[i].replace(/\"/g, '').split(separator);\n            obj[column[pK]] = {};\n            if (column.length < columnNum) break;\n\n            for (let j = 0; j < columnNum; j++) {\n                if (j !== pK) obj[column[pK]][key[j]] = column[j];\n            }\n        }\n        return obj;\n    }\n\n\n\n    static text2Array(content, fileType) {\n        //>> tsvファイルから配列を作成(tsvObj)\n        var array = new Array();\n\n        if (content.match(/\\r/)) var raw = content.split(\"\\r\\n\");\n        else raw = content.split(\"\\n\");\n\n        if (fileType == 'tsv') var delimiter = '\\t';\n        else if (fileType == 'csv') delimiter = ',';\n        else delimiter = ' ';\n\n        var rawNum = raw.length;\n        var key = raw[0].replace(/\"/g, '').split(delimiter);\n        var columnNum = key.length;\n\n        //console.log(key);\n\n        for (i = 0; i < rawNum; i++) {\n            column = raw[i].replace(/\"/g, '').split(delimiter);\n\n            if (column.length < columnNum) break;\n            array[i] = [];\n            for (var j = 0; j < columnNum; j++) {\n                array[i][j] = column[j];\n            };\n        };\n\n        return array;\n    };\n\n    /** text2Dataframe\n     *\n     * column0,column1,...\n     *  d00, d10,\n     *  d01, d11\n     *\n     * ->\n     *\n     * df = {\n           column0 : [d00,d01,],\n           column1 : [d10,d11,],\n           ...\n      }\n    */\n    static text2Dataframe(content, fileType) {\n        const obj = {};\n\n        const row = (content.match(/\\r/))\n            ? content.split(\"\\r\\n\")\n            : content.split(\"\\n\");\n\n        const delimiter = getDelimiter(fileType);\n\n        const rawNum = row.length;\n        const key = row[0].replace(/\"/g, '').split(delimiter);\n        const columnNum = key.length;\n\n        key.map(v => {\n            obj[v] = []\n        });\n\n        //console.log(key);\n\n        for (let i = 1; i < rawNum; i++) {\n            let column = row[i].replace(/\"/g, '').split(delimiter);\n\n            if (column.length < columnNum) break;\n\n            for (var j = 0; j < columnNum; j++) {\n                obj[key[j]].push(column[j]);\n            };\n        };\n\n        return obj\n    }\n\n    static array2Text(array, fileType) {\n        let blob = '';\n\n        if (fileType == 'tsv') var delimiter = '\\t';\n        else if (fileType == 'csv') delimiter = ',';\n        else delimiter = ' ';\n\n        end = new RegExp(delimiter + \"$\");\n\n        array.map((v) => {\n            blob += '\"' + v.toString().replace('\"', '') + '\"';\n            blob += delimiter;\n        })\n\n\n        blob = blob.replace(end, '');\n\n        return blob;\n    }\n\n    /* obj2Table\n     * オブジェクトから markdownの表を作成する\n     *\n     * obj : {\n           index0:{\n                  column0:v00,\n                  column1:v01\n            },\n         index1:{\n              column0:v10,\n              column1:v11\n          }\n      }\n  \n      =>\n  \n      |       |column0|column1|\n      | :---: | :---: | :---: |\n      |index0 |  v00  |  v01  |\n      |index1 |  v10  |  v11  |\n    */\n    static obj2Table(obj) {\n        let str = \"\"\n        const index = Object.keys(obj)\n        const column = Object.keys(obj[index[0]]);\n\n        str += \"| |\";\n        for (let key of column) {\n            str += key + \"|\";\n        }\n        str += \"\\n\";\n        str += \"|:---:|\";\n        for (let key of column) {\n            str += \":---:|\";\n        }\n        str += \"\\n\";\n\n        for (let key of index) {\n            str += \"|\" + key + \"|\";\n            for (let c of column) {\n                str += obj[key][c] + \"|\"\n            }\n            str += \"\\n\"\n        }\n        return str;\n    }\n\n    static read_csv(path) {\n        return TextParser.text2Dataframe(fs.readFileSync(path, \"utf-8\"), \"csv\")\n    }\n\n    static read_json(path) {\n        return JSON.parse(fs.readFileSync(path, \"utf-8\"))\n    }\n\n}\n\n\n//# sourceURL=webpack:///./src/js/lib/textParser_esm.js?");

/***/ }),

/***/ "./src/js/menu-file-load.js":
/*!**********************************!*\
  !*** ./src/js/menu-file-load.js ***!
  \**********************************/
/*! exports provided: template, eventSetter, option, style */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"template\", function() { return template; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eventSetter\", function() { return eventSetter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"option\", function() { return option; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n/* harmony import */ var _lib_textParser_esm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/textParser_esm */ \"./src/js/lib/textParser_esm.js\");\n/* harmony import */ var _lib_funcTools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/funcTools */ \"./src/js/lib/funcTools.js\");\n\n\n\nconst {\n    Dataframe,\n    transduce,\n    statefullTransducer\n} = _lib_funcTools__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst {\n    mapping,\n    intoArray\n} = transduce;\nconst {\n    indexing\n} = statefullTransducer;\nconst {\n    toEntries,\n    mapEntries\n} = Dataframe;\n\n\nconst load = ( false) ?\n    undefined\n    : __webpack_require__(/*! node-fetch */ \"./node_modules/node-fetch/browser.js\");\n\n\nfunction template(state) {\n    return `\n  <style>\n    #menu-file-load input.button{\n    cursor: pointer;\n    min-width: 10vw;\n    font-size: 1.5rem;\n    margin: 5px 0px;\n    padding:10px;\n  }\n  </style>\n\n  <form id=\"menu-file-load\" class=\"selectFile\" action=\"#\">\n    <a href=\"#\" class=\"close_button\" id=\"close_selectFile\"></a>\n    <hr style=\"visibility:hidden\">\n    <label>\n      <input type=\"file\" id=\"selectFileMain\" accept=\".csv\" required>\n      <span class=\"file-parts\">Select plot file (.CSV)</span>\n    </label>\n    <input class=\"button\" type=\"button\" id=\"use_test_data\" value=\"Use test data\">\n    <hr>\n    Selected file: <span id=\"selectedMainFile\"></span>\n\n    <hr>\n    <label>\n      <input type=\"file\" id=\"selectFileRef\" accept=\".csv\" >\n      <span class=\"file-parts\">Select Abundance file (.CSV)</span>\n    </label>\n    <input class=\"button\" type=\"button\" id=\"use_test_ref\" value=\"Use default\">\n    <hr>\n    Selected file: <span id=\"selectedRefFile\"></span>\n\n  </form>`\n};\n\nconst createDataColumnIndex = (index_datalist, { data }) => {\n    if (data.length <= 0) return false;\n    const options = d3.select(index_datalist)\n        .selectAll(\"option\")\n        .data(Object.keys(data[0]))\n    options.exit().remove();\n    const entered = options.enter().append(\"option\");\n    entered.merge(options)\n        .attr(\"value\", d => d);\n}\n\nfunction eventSetter(emitter, uiState) {\n    const indexListId = \"indexList\"\n    const datalist = document.createElement(\"datalist\")\n    datalist.id = indexListId\n    document.querySelector(\"body\").appendChild(datalist)\n\n    document.getElementById(\"use_test_data\").onclick = function (ev) {\n        const url = \"./data/lava_compositions.csv\";\n        load(url).then(function (response) {\n            return response.text();\n        }).then(function (text) {\n\n            uiState.data = intoArray(\n                indexing(0),\n                mapping(([i, d]) => Object.assign(d, { id: i })),\n                mapEntries(d => ({ dummy: 1, onState: \"base\" })),\n            )(toEntries(_lib_textParser_esm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].text2Dataframe(text, \"csv\")))\n\n            document.querySelector(\"#selectedMainFile\").innerHTML = (url);\n            createDataColumnIndex(\"#\" + indexListId, uiState);\n        })\n    };\n\n\n    document.getElementById('use_test_ref').onclick = function (ev) {\n        const url = \"./data/Refferencial_abundance.csv\";\n\n        load(url).then(function (response) {\n            return response.text();\n        }).then(function (text) {\n            uiState.refData = toEntries(_lib_textParser_esm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].text2Dataframe(text, \"csv\"));\n\n\n            document.querySelector(\"#selectedRefFile\").innerHTML = (url);\n        })\n\n    }\n\n    document.getElementById(\"use_test_data\").click();\n    document.getElementById('use_test_ref').click();\n\n    /* Button for use user data */\n    document.getElementById(\"selectFileMain\").onchange = function (ev) {\n        var file = ev.target.files;\n        var reader = new FileReader();\n\n        reader.readAsText(file[0]);\n        //console.log(file)\n        reader.onload = function (ev) {\n\n            uiState.data = intoArray(\n                indexing(0),\n                mapping(([i, d]) => Object.assign(d, { id: i })),\n                mapEntries(d => ({ dummy: 1, onState: \"base\" })),\n            )(toEntries(_lib_textParser_esm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].text2Dataframe(reader.result, \"csv\")))\n\n            emitter.replot();\n            emitter.afterReplot();\n            createDataColumnIndex(\"#\" + indexListId, uiState);\n        };\n\n        for (var i = 0; i < file.length; i++) {\n            document.querySelector(\"#selectedMainFile\").innerHTML = (file[i].name + \"\\n\");\n        }\n    };\n\n    /* Button for user defined refferance data */\n    document.getElementById(\"selectFileRef\").onchange = function (ev) {\n        var file = ev.target.files;\n        var reader = new FileReader();\n\n        reader.readAsText(file[0]);\n        //console.log(file)\n        reader.onload = function (ev) {\n            uiState.refData = toEntries(_lib_textParser_esm__WEBPACK_IMPORTED_MODULE_0__[\"default\"].text2Dataframe(reader.result, \"csv\"));\n\n            emitter.replot();\n            emitter.afterReplot();\n        };\n\n        for (var i = 0; i < file.length; i++) {\n            document.querySelector(\"#selectedRefFile\").innerHTML = (file[i].name + \"\\n\");\n        }\n    }\n};\n\nconst option = {\n    label: \"Select file\",\n    draggable: false\n}\n\nconst style = `\n  width: 40vw;\n  overflow: auto;\n  `\n\n\n//# sourceURL=webpack:///./src/js/menu-file-load.js?");

/***/ }),

/***/ "./src/js/menu-legend.js":
/*!*******************************!*\
  !*** ./src/js/menu-legend.js ***!
  \*******************************/
/*! exports provided: template, exportToEmitter, eventSetter, option, style */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"template\", function() { return template; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exportToEmitter\", function() { return exportToEmitter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eventSetter\", function() { return eventSetter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"option\", function() { return option; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n\n\nconst template = uiState => `\n  <style>\n  #form_legend input.button{\n    cursor: pointer;\n    min-width: 10vw;\n    font-size: 1.5rem;\n    margin: 5px 0px;\n    padding: 10px;\n  }\n\n\n  #legend_form{\n    margin: 5px;\n  }\n\n    #legend_table{\n      margin: 0px;\n    }\n\n      #legend_table input.color{\n        background-color: #fff;\n        border: none;\n        padding:0px;\n      }\n\n      #legendKey{\n        color: #fff;\n        background: none;\n        border:none;\n        font-weight: bold;\n        text-align: center;\n      }\n\n  </style>\n\n  <div id=\"legend_form\">\n  <form id=\"form_legend\">\n    <a href=\"#\" class=\"close_button\" id=\"close_legendForm\"></a>\n    <hr style=\"visibility:hidden\">\n    <label>\n      <input id=\"legendJSON\" type=\"file\" accept=\".json\" >\n      <span class=\"file-parts\">Select legend file(.JSON)</span>\n    </label>\n    <input id=\"legendAutoLoad\" type='button' style=\"display:none;\">\n    <hr>\n    Selected file:\n    <span id=\"legendFileLabel\"></span>\n    <hr>\n    <input id=\"hideAll_button\" class=\"button\" type=\"button\" value=\"Hide all\">\n    <input id=\"showAll_button\" class=\"button\" type=\"button\" value=\"Show all\">\n  </form>\n</div>\n\n<div id=\"legend_table\">\n</div>\n  `;\nconst getStyleText = function (legendStyle) {\n    const group = (legendStyle.hasOwnProperty(\"group\"))\n        ? \".\" + legendStyle.group\n        : \"\",\n        color = (legendStyle.hasOwnProperty(\"color\"))\n            ? legendStyle.color\n            : \"white\", /* whiteじゃないとマウスオーバーが不安定になる */\n        stroke = (legendStyle.hasOwnProperty(\"stroke\"))\n            ? legendStyle.stroke\n            : \"none\",\n        strokeWidth = legendStyle.hasOwnProperty(\"stroke-width\")\n            ? legendStyle[\"stroke-width\"]\n            : \"none\"\n\n    return `.plotArea circle${group}{fill:${color};stroke:${stroke};stroke-width:${strokeWidth};}` +\n        `.plotArea path${group}{fill:none;stroke:${color};stroke-width:${strokeWidth};}` +\n        `td${group}{color:${color};}`\n}\n\nconst toggleVisibility = (_) => {\n    // 凡例テーブルの状態を取得し,シンボルの表示状態を切り替え\n    const legendSimbol = d3.select(\"table.legend\").selectAll(\"td.switch\");\n    legendSimbol.each(function (d) {\n        var visiblityState = d3.select(this).attr(\"name\");\n        var className = d3.select(this).attr(\"class\");\n        var classArray = className.split(\" \");\n        if (visiblityState == \"hidden\") {\n            d3.selectAll(\".plotArea circle.\" + classArray[1])\n                .attr(\"visibility\", \"hidden\");\n            d3.selectAll(\".plotArea path.\" + classArray[1])\n                .attr(\"visibility\", \"hidden\");\n        } else {\n            d3.selectAll(\".plotArea circle.\" + classArray[1])\n                .attr(\"visibility\", \"visible\");\n            d3.selectAll(\".plotArea path.\" + classArray[1])\n                .attr(\"visibility\", \"visible\");\n        }\n    });\n}\n\nconst changeLegendStyle = (legendObj) => {\n    document.querySelector(\"#legendStyle\").innerHTML = Object.values(legendObj.legends)\n        .map(getStyleText)\n        .reduce((a, b) => a + b, \"\");\n}\n\nconst setEventToLegend = (legendObj) => {\n    const legendSimbol = d3.select(\"table.legend\").selectAll(\"td.switch\")\n    legendSimbol.on(\"click\", function (d) {\n        if (d3.select(this).attr(\"name\") !== \"hidden\") {\n            d3.select(this)\n                .attr(\"style\", \"color:#ffffff\")\n                .attr(\"name\", \"hidden\");\n        } else {\n            d3.select(this)\n                .attr(\"style\", \"\")\n                .attr(\"name\", \"visible\");\n        }\n        toggleVisibility();\n    });\n\n    /* カラーピッカーにonchangeイベントを設定*/\n    const legendColor = d3.select(\"table.legend\").selectAll(\"input\");\n    legendColor.on(\"change\", function () {\n        const selectedClass = d3.select(this).attr(\"class\"),\n            color = this.value;\n\n        const selected = Object.entries(legendObj.legends)\n            .filter(([k, v]) => v.group === selectedClass)[0];\n        selected[1].color = color;\n\n        changeLegendStyle({\n            key: legendObj.key,\n            legends: Object.assign(\n                legendObj.legends,\n                {\n                    [selected[0]]: selected[1]\n                })\n        })\n    });\n\n    //console.log(\"set mouse event to legend\")\n}\n\nconst createLegendTable = (legendObj) => {\n\n    d3.select(\"#legend_table\").select(\"table\").remove(\"table\");\n    var table = d3.select(\"#legend_table\").append(\"table\")\n        .attr(\"class\", \"legend\");\n    var thead = table.append(\"thead\");\n    var tbody = table.append(\"tbody\");\n\n    var theadRow = thead.append('tr')\n    theadRow.append(\"th\").append(\"input\")\n        .attr(\"type\", \"text\")\n        .attr(\"id\", \"legendKey\")\n        .attr(\"value\", legendObj.key);\n    theadRow.append(\"th\").text(\"symbol\");\n    theadRow.append(\"th\").text(\"color\");\n\n    var tbodyRow = tbody.selectAll(\"tr\").data(legendObj.legends);\n    tbodyRow.exit().remove();\n\n    const enteredTbodyRow = tbodyRow.enter().append(\"tr\")\n    const mergedTbodyRow = enteredTbodyRow.merge(tbodyRow)\n    mergedTbodyRow.append(\"th\").text(d => d.name);\n    mergedTbodyRow.append(\"td\")\n        .attr(\"class\", d => \"switch \" + d.group)\n        .text(d => (d.stroke) ? \"○\" : \"●\");\n    mergedTbodyRow.append(\"td\").append(\"input\")\n        .attr(\"class\", d => d.group)\n        .attr(\"type\", \"color\")\n        .attr(\"value\", d => d.color);\n\n    changeLegendStyle(legendObj);\n};\n\n\nconst setLegendFromUrl = uiState => (url) => {\n    /* レジェンド定義css読み込み */\n    fetch(url).then(function (data) {\n        return data.json();\n    }).then(function (obj) {\n        uiState.styleClass = obj.key;\n        createLegendTable(obj);\n        setEventToLegend(obj);\n        d3.select('#legendFileLabel').text(url);\n    })\n};\n\nconst allHide = _ => {\n    const circle = d3.selectAll(\".plotArea circle\")\n        .attr(\"visibility\", \"hidden\");\n    const path = d3.selectAll(\".plotArea path\")\n        .attr(\"visibility\", \"hidden\");\n    const td = d3.select(\"table.legend\")\n        .selectAll(\".switch\")\n        .attr(\"style\", \"color:#FFFFFF\")\n        .attr(\"name\", \"hidden\");\n}\n\nconst allShow = _ => {\n    const circle = d3.selectAll(\".plotArea circle\")\n        .attr(\"visibility\", \"visible\");\n    const path = d3.selectAll(\".plotArea path\")\n        .attr(\"visibility\", \"visible\");\n    const td = d3.select(\"table.legend\")\n        .selectAll(\".switch\")\n        .attr(\"style\", \"\")\n        .attr(\"name\", \"visible\");\n}\n\nconst exportToEmitter = [\n    { type: \"afterReplot\", action: toggleVisibility }\n];\n\nconst eventSetter = (emitter, uiState) => {\n\n    setLegendFromUrl(uiState)(\"./data/legend_NE_Shikoku.json\")\n\n    document.getElementById(\"legendJSON\").addEventListener('change', function (ev) {\n        const file = ev.target.files;\n        const reader = new FileReader();\n        reader.readAsText(file[0]);\n        //console.log(file)\n        reader.onload = ev => {\n            var obj = JSON.parse(reader.result);\n            uiState.styleClass = obj.key;\n            createLegendTable(obj);\n            setEventToLegend(obj);\n            emitter.replot();\n            emitter.afterReplot();\n        };\n        document.querySelector(\"#legendFileLabel\").innerHTML = (file[0].name);\n    }, false);\n\n    document.querySelector(\"#hideAll_button\")\n        .addEventListener('click', function (ev) { allHide() }, false);\n    document.querySelector(\"#showAll_button\")\n        .addEventListener('click', function (ev) { allShow() }, false);\n\n}\n\nconst option = {\n    label: \"Legend\",\n    draggable: false\n}\n\nconst style = `\n  min-width: 25vw;\n  `;\n\n\n//# sourceURL=webpack:///./src/js/menu-legend.js?");

/***/ }),

/***/ "./src/js/menu-symbol.js":
/*!*******************************!*\
  !*** ./src/js/menu-symbol.js ***!
  \*******************************/
/*! exports provided: template, eventSetter, option, style */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"template\", function() { return template; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eventSetter\", function() { return eventSetter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"option\", function() { return option; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\n\nconst template = uiState => `\n  <style>\n    #symbol-wrapper{\n      display : flex;\n      justify-content : center;\n      width: 35vw;\n  padding : 0 5px;\n  min-width:300px;\n  min-height: 100px;\n    }\n    #symbolForm{\n      display : flex;\n      flex-direction : column;\n      align-items : center;\n    }\n    #symbolForm .list-title{\n      color : #3e3e99;\n    }\n    #symbolForm ul{\n      border-bottom: 1px dashed #4e4ebb;\n      width : 100%;\n      padding : 0;\n    }\n    #symbolForm li{\n      display: flex;\n      align-items: center;\n      margin: 5px 0;\n    }\n    #symbolForm li span{\n      flex: 1;\n    }\n    #symbolForm li input{\n      flex : 2;\n    }\n  </style>\n\n  <div id=\"symbol-wrapper\">\n  <form class=\"symbolForm\" id=\"symbolForm\" style=\"width: 95%;min-height: 500px;\">\n    <a href=\"#\" class=\"close_button\" id=\"close_symbolForm\"></a>\n    <hr style=\"visibility:hidden\">\n    <span class=\"list-title\">Opacity</span>\n    <ul>\n    <li>\n      <span>Fade out</span>\n      <input type=\"range\" id=\"outOpacity\" min=\"0\" max=\"1\" value=\"0.3\" step=\"0.1\" >\n    </li>\n    <li>\n      <span>Base</span>\n      <input type=\"range\" id=\"baseOpacity\" min=\"0\" max=\"1\" value=\"0.8\" step=\"0.1\" >\n    </li>\n    <li>\n      <span>Focused</span>\n      <input type=\"range\" id=\"onOpacity\" min=\"0\" max=\"1\" value=\"1\" step=\"0.1\">\n    </li>\n    <li>\n      <span>Selected</span>\n      <input type=\"range\" id=\"selectedOpacity\" min=\"0\" max=\"1\" value=\"1\" step=\"0.1\">\n    </li>\n    </ul>\n\n    <span class=\"list-title\">Symbol size</span>\n    <ul>\n    <li>\n      <span>Fade out</span>\n      <input type=\"range\" id=\"outRadius\" min=\"1\" max=\"12\" value=\"3\" step=\"0.5\">\n    </li>\n    <li>\n      <span>Base</span>\n      <input type=\"range\" id=\"baseRadius\" min=\"1\" max=\"12\" value=\"6\" step=\"0.5\">\n    </li>\n    <li>\n      <span>Focused</span>\n      <input type=\"range\" id=\"onRadius\" min=\"1\" max=\"12\" value=\"9\" step=\"0.5\">\n    </li>\n    <li>\n      <span>Selected</span>\n      <input type=\"range\" id=\"selectedRadius\" min=\"1\" max=\"12\" value=\"9\" step=\"0.5\">\n    </li>\n    </ul>\n\n    <span class=\"list-title\">Path width</span>\n    <ul>\n    <li>\n      <span>Fade out</span>\n      <input type=\"range\" id=\"outWidth\" min=\"0\" max=\"3\" value=\"0.25\" step=\"0.05\">\n    </li>\n    <li>\n      <span>Base</span>\n      <input type=\"range\" id=\"baseWidth\" min=\"0\" max=\"3\" value=\"1\" step=\"0.05\">\n    </li>\n    <li>\n      <span>Focused</span>\n      <input type=\"range\" id=\"onWidth\" min=\"0\" max=\"3\" value=\"3\" step=\"0.05\">\n    </li>\n    <li>\n      <span>Selected</span>\n      <input type=\"range\" id=\"selectedWidth\" min=\"0\" max=\"3\" value=\"3\" step=\"0.05\">\n    </li>\n    </ul>\n    </div>\n  `;\n\nconst eventSetter = (emitter, uiState) => {\n    [...document.querySelectorAll(\"#symbolForm input\")].forEach(dom => {\n        const id = dom.id;\n        dom.value = uiState.symbol[id]\n        dom.addEventListener(\n            \"change\",\n            ev => {\n                uiState.symbol[id] = parseFloat(dom.value);\n                emitter.replot()\n                emitter.afterReplot();\n            },\n            false\n        )\n    })\n}\n\nconst option = {\n    label: \"Symbol\",\n    draggable: false\n}\n\nconst style = `\n  `\n\n\n//# sourceURL=webpack:///./src/js/menu-symbol.js?");

/***/ }),

/***/ "./src/js/menu-tooltip.js":
/*!********************************!*\
  !*** ./src/js/menu-tooltip.js ***!
  \********************************/
/*! exports provided: template, eventSetter, option, style */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"template\", function() { return template; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eventSetter\", function() { return eventSetter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"option\", function() { return option; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return style; });\nconst template = uiState => `\r\n    <style>\r\n        #tooltip-wrapper{\r\n            width: 30em;\r\n        }\r\n        #tooltip-wrapper .inp.wide{\r\n            max-width : 100%;\r\n        }\r\n    </style>\r\n\r\n    <div id=\"tooltip-wrapper\">\r\n        <form class=\"tooltip-form\" id=\"tooltipForm\" style=\"width:95%\"; min-height: 200px;\">\r\n            <hr style=\"visibility:hidden\">\r\n            <a href=\"#\" class=\"close_button\" id=\"close_tooltipForm\"></a>\r\n            <label for=\"tooltipFormat\" class=\"inp wide\">\r\n                <input type=\"text\" id=\"tooltipFormat\" placeholder=\"&nbsp;\" autofocus value=\"{id}\">\r\n              <span class=\"label\">Tooltip format</span>\r\n              <span class=\"border\"></span>\r\n            </label>\r\n        </form>\r\n    </div>\r\n`\r\n\r\nconst eventSetter = (emitter, uiState) => {\r\n    uiState.tooltipAST.parse(document.querySelector(\"#tooltipFormat\").value)\r\n    document.querySelector(\"#tooltipFormat\").addEventListener(\r\n        \"change\",\r\n        ev => {\r\n            uiState.tooltipAST.parse(ev.target.value)\r\n        },\r\n        false\r\n    )\r\n}\r\n\r\nconst option = {\r\n    label: \"Tooltip\",\r\n    draggable: false\r\n}\r\n\r\nconst style = ``\r\n\n\n//# sourceURL=webpack:///./src/js/menu-tooltip.js?");

/***/ }),

/***/ "./src/js/overlay.js":
/*!***************************!*\
  !*** ./src/js/overlay.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Overlay; });\n/* harmony import */ var _pub_sub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pub-sub */ \"./src/js/pub-sub.js\");\n/* harmony import */ var _usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usecases/toggle_active_state */ \"./src/js/usecases/toggle_active_state.js\");\n\n\n\nclass Overlay {\n    constructor(selector) {\n        this._dom = document.querySelector(selector)\n        this._dom.addEventListener(\"click\", () => {\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"deactivate\"])(this._dom)\n        })\n        _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subscriber().subscribe(\"hide-overlay\", () => {\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"deactivate\"])(this._dom)\n        })\n\n        _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subscriber().subscribe(\"show-overlay\", () => {\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"activate\"])(this._dom)\n        })\n    }\n\n    addClickEventListener(callback) {\n        this._dom.addEventListener(\"click\", callback)\n    }\n}\n\n\n//# sourceURL=webpack:///./src/js/overlay.js?");

/***/ }),

/***/ "./src/js/pub-sub.js":
/*!***************************!*\
  !*** ./src/js/pub-sub.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Publisher {\n    constructor() {\n        this._subscriber = []\n    }\n\n    publish(event) {\n        this._subscriber.forEach(subscriber => {\n            if (subscriber.subscribing(event.type)) {\n                subscriber.listen(event)\n            }\n        })\n    }\n\n    subscriber() {\n        const subscriber = new Subscriber()\n        this._subscriber.push(subscriber)\n        return subscriber\n    }\n}\n\nclass Subscriber {\n    /**\n     *\n     * @param {string} subscribe_event_type\n     */\n    constructor() {\n        this._subscribingDict = {}\n        return this\n    }\n\n    subscribe(event_type, callback) {\n        this._subscribingDict[event_type] = callback\n        return this;\n    }\n\n    /**\n     *\n     * @param {string} event_type\n     */\n    subscribing(event_type) {\n        return this._subscribingDict.hasOwnProperty(event_type)\n    }\n\n    listen(event) {\n        this._subscribingDict[event.type](event)\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new Publisher());\n\n\n//# sourceURL=webpack:///./src/js/pub-sub.js?");

/***/ }),

/***/ "./src/js/tooltip.js":
/*!***************************!*\
  !*** ./src/js/tooltip.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Tooltip; });\nfunction concatAttribute(attr_dict) {\r\n    return Object.entries(attr_dict)\r\n        .map(e => `${e[0]}=\"${e[1]}\"`)\r\n        .reduce((acc, e) => `${acc} ${e}`, \"\")\r\n}\r\n\r\nclass Tooltip {\r\n    constructor(containorId) {\r\n        this.containorId = containorId\r\n        this.domContainor = document.querySelector(containorId)\r\n        this.domContainor.insertAdjacentHTML(\r\n            \"beforeend\",\r\n            this.template()\r\n        )\r\n        this.tooltip = document.querySelector(\"#graph_tooltip\")\r\n    }\r\n\r\n    template() {\r\n        const containorAttr = {\r\n            id: \"graph_tooltip\",\r\n            style: `position: fixed;\r\n    bottom : 0;\r\n    left : 0;\r\n    z-index: 10;\r\n    visibility: hidden;\r\n    padding: 2px 5px;\r\n    border: 1px solid #000;\r\n    border-radius: 3px;\r\n    background-color: #333;\r\n    color: #fff;\r\n    font-size: 1.5rem;`,\r\n\r\n        }\r\n\r\n        return `<div ${concatAttribute(containorAttr)}>\r\n        test text\r\n        </div>`\r\n    }\r\n\r\n    show() {\r\n        this.tooltip.style.visibility = \"visible\"\r\n    }\r\n\r\n    hide() {\r\n        this.tooltip.style.visibility = \"hidden\"\r\n    }\r\n\r\n    updateContent(text) {\r\n        this.tooltip.innerText = text\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/js/tooltip.js?");

/***/ }),

/***/ "./src/js/top-menu.js":
/*!****************************!*\
  !*** ./src/js/top-menu.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TopMenu; });\n/* harmony import */ var _pub_sub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pub-sub */ \"./src/js/pub-sub.js\");\n/* harmony import */ var _usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usecases/toggle_active_state */ \"./src/js/usecases/toggle_active_state.js\");\n\n\n\n/**\n * top menu extensionの作り方\n *\n * 次の4つを必ずexportする\n *\n * 1. {function} {String} template(uiState)\n *  メニューウィンドウの内容を表すHTMLを返す.\n *  これはメニュー登録時にdiv要素にラップされる.\n * 2. {function} {void} eventSetter(emitter, uiState)\n *  上記のHTML要素にイベントハンドラを与えるメソッド.\n *  emitterに登録されたactionを用いることができる.\n * 3. {Object} option = {\n *  {String} label : \"Label of Button shown in top menu\"\n *  {Bool} draggable : Either draggable or not\n * }\n *  トップメニューに表示されるメニュー表示ボタンの名前と,\n *  ドラッグイベントによる移動の可否を定義する.\n * 4. {String} style = \"css string defining geometry of menu contents\"\n *  表示されるメニューウィンドウのサイズやpaddingを定義する.\n *  (templateが返すHTML要素をラップしたdiv要素に与えられるスタイル)\n *\n * Event Emitterに追加する関数がある場合次を定義する\n * 5. {Array} exportToEmitter = [\n *  {\n *    {String} type : \"action type of Emitter\",\n *    {function} action : {void} method\n *  }\n * ]\n */\n\nclass TopMenu {\n    constructor(menuBarId, overlay, eventEmitter, uiState) {\n        this.menuBarId = menuBarId;\n        this.menuCount = 0;\n        this.emitter = eventEmitter;\n        this.uiState = uiState;\n        this.initialize();\n\n        overlay.addClickEventListener(() => {\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-all-fixed-menus\" })\n        })\n    }\n\n    initialize() {\n        this.setMenuSpace();\n    }\n\n    setMenuSpace() {\n        const menuSpace = document.createElement(\"div\");\n        menuSpace.id = \"menu-bar-contents\";\n        document.querySelector(\"body\").appendChild(menuSpace);\n        this.menuBar = document.querySelector(`#${this.menuBarId}`)\n        this.menuSpace = document.querySelector(`#menu-bar-contents`);\n    }\n\n    register(..._menus) {\n        const menus = [..._menus].reverse()\n        menus.forEach(({ template, option, eventSetter, style, exportToEmitter }) => {\n            const contentId = \"menu-bar-content-\"\n                + this.menuCount++;\n            const btnId = \"btn-\" + contentId;\n\n            const openButton = `<div>\n                <a class=\"menu-btn\" id=${btnId} href=\"#\">\n                    ${option.label}\n                </a>\n\n                <div id=\"${contentId}\" class=\"menu-bar-content inactive\" style=\"${style}\">\n                    ${template(this.uiState)}\n                </div>\n            </div>`\n\n            this.menuBar.insertAdjacentHTML(\"afterbegin\", openButton);\n\n            eventSetter(this.emitter, this.uiState);\n\n            if (Array.isArray(exportToEmitter)) {\n                this.emitter.registerAction(exportToEmitter)\n            }\n\n            TopMenu.setOpenClose(\n                document.querySelector(\"#\" + btnId),\n                document.querySelector(\"#\" + contentId)\n            );\n            TopMenu.setDrag(\"#\" + contentId, option);\n        })\n    }\n\n    /**\n     *\n     * @param {HTMLElement} btn\n     * @param {HTMLElement} content\n     * @param {HTMLElement} overlay\n     */\n    static setOpenClose(btn, content) {\n\n\n        _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subscriber().subscribe(\"hide-all-fixed-menus\", () => {\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"deactivate\"])(btn)\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"deactivate\"])(content)\n        })\n\n        btn.addEventListener(\"click\", () => {\n            if (Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"isActive\"])(btn)) {\n                _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-all-fixed-menus\" });\n                _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-overlay\" })\n                return\n            }\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-all-fixed-menus\" });\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"show-overlay\" })\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"activate\"])(btn)\n            Object(_usecases_toggle_active_state__WEBPACK_IMPORTED_MODULE_1__[\"activate\"])(content)\n            content.querySelector(\"input\").focus()\n\n        })\n\n        content.querySelector(\".close_button\").addEventListener(\"click\", () => {\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-all-fixed-menus\" });\n            _pub_sub__WEBPACK_IMPORTED_MODULE_0__[\"default\"].publish({ type: \"hide-overlay\" })\n        })\n\n    }\n\n\n    static setDrag(content, { draggable }) {\n        if (draggable) {\n            $(content).draggable({\n                cursor: \"move\"\n            })\n        }\n    }\n\n}\n\n\n//# sourceURL=webpack:///./src/js/top-menu.js?");

/***/ }),

/***/ "./src/js/ui-updater.js":
/*!******************************!*\
  !*** ./src/js/ui-updater.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UIUpdater; });\nclass UIUpdater {\r\n  constructor(option) {\r\n    this.action = {\r\n      replot: [],\r\n      afterReplot: []\r\n    }\r\n  }\r\n\r\n  registerAction(array) {\r\n    ((Array.isArray(array))\r\n      ? array\r\n      : [array])\r\n      .forEach(({ type, action }) => {\r\n        if (!this.action.hasOwnProperty(type)) throw new Error()\r\n        if (this.action[type].indexOf(action) >= 0) throw new Error();\r\n        this.action[type].push(action);\r\n      })\r\n  }\r\n\r\n  replot() {\r\n    this.action.replot.forEach(action => {\r\n      action();\r\n    })\r\n  }\r\n\r\n  afterReplot() {\r\n    this.action.afterReplot.forEach(action => {\r\n      action();\r\n    })\r\n  }\r\n}\n\n//# sourceURL=webpack:///./src/js/ui-updater.js?");

/***/ }),

/***/ "./src/js/usecases/label_presenter.js":
/*!********************************************!*\
  !*** ./src/js/usecases/label_presenter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return labelPresenter; });\n/**\r\n *\r\n * @param {string} text\r\n * @return {string}\r\n */\r\nfunction labelPresenter(text) {\r\n    return text.replace(/[\\{\\}]/g, \"\")\r\n}\r\n\n\n//# sourceURL=webpack:///./src/js/usecases/label_presenter.js?");

/***/ }),

/***/ "./src/js/usecases/plot_data_class_name.js":
/*!*************************************************!*\
  !*** ./src/js/usecases/plot_data_class_name.js ***!
  \*************************************************/
/*! exports provided: setClass, extractClass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setClass\", function() { return setClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"extractClass\", function() { return extractClass; });\nfunction setClass(d, graphType, styleClass, optionalClasses) {\n    const styleColumn = (d.hasOwnProperty(styleClass))\n        ? d[styleClass]\n        : \"none\";\n\n    const optional = optionalClasses\n        .map(cls => d.hasOwnProperty(cls) ? d[cls] : \"\")\n        .reduce((acc, e) => `${acc} ${e}`, \"\")\n\n    return `${graphType} plot D${d.id} ${styleColumn} ${d.onState} ${optional}`\n}\n\nfunction extractClass(classString, selector) {\n    const classList = classString.split(\" \");\n    switch (selector) {\n        case \"id\":\n            return classList[2];\n\n        case \"style\":\n            return classList[3];\n\n        case \"onState\":\n            return classList[4];\n\n\n        default:\n            return false;\n\n    }\n}\n\n\n//# sourceURL=webpack:///./src/js/usecases/plot_data_class_name.js?");

/***/ }),

/***/ "./src/js/usecases/toggle_active_state.js":
/*!************************************************!*\
  !*** ./src/js/usecases/toggle_active_state.js ***!
  \************************************************/
/*! exports provided: isActive, activate, deactivate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isActive\", function() { return isActive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activate\", function() { return activate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deactivate\", function() { return deactivate; });\n/**\n *\n * @param {HTMLElement} dom\n */\nfunction isActive(dom) {\n    return dom.classList.contains(\"active\")\n}\n\n/**\n *\n * @param {HTMLElement} dom\n */\nfunction activate(dom) {\n    dom.classList.remove(\"inactive\")\n    dom.classList.add(\"active\")\n}\n\n/**\n *\n * @param {HTMLElement} dom\n */\nfunction deactivate(dom) {\n    dom.classList.remove(\"active\")\n    dom.classList.add(\"inactive\")\n}\n\n\n//# sourceURL=webpack:///./src/js/usecases/toggle_active_state.js?");

/***/ }),

/***/ "./src/js/validation/is_defined.js":
/*!*****************************************!*\
  !*** ./src/js/validation/is_defined.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return isDefined; });\nfunction isDefined(variable) {\n    if (variable === undefined) throw new ReferenceError(\"Variable is undefined.\")\n}\n\n\n//# sourceURL=webpack:///./src/js/validation/is_defined.js?");

/***/ }),

/***/ "./src/js/validation/require_property.js":
/*!***********************************************!*\
  !*** ./src/js/validation/require_property.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return requireProperty; });\n/* harmony import */ var _error_undefined_property_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/undefined_property_error */ \"./src/js/error/undefined_property_error.js\");\n\n\nfunction requireProperty(obj, key) {\n    if (!obj.hasOwnProperty(key)) throw new _error_undefined_property_error__WEBPACK_IMPORTED_MODULE_0__[\"default\"](key)\n}\n\n\n//# sourceURL=webpack:///./src/js/validation/require_property.js?");

/***/ }),

/***/ 0:
/*!*****************************!*\
  !*** multi ./src/js/app.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./src/js/app.js */\"./src/js/app.js\");\n\n\n//# sourceURL=webpack:///multi_./src/js/app.js?");

/***/ })

/******/ });